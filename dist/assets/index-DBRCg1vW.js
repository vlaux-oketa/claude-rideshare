function Xb(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $b(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ip={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Wb(){if(yv)return Nl;yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var vv;function Zb(){return vv||(vv=1,ip.exports=Wb()),ip.exports}var j=Zb(),rp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Jb(){if(Ev)return Re;Ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function B(D,ee,oe){this.props=D,this.context=ee,this.refs=Y,this.updater=oe||N}B.prototype.isReactComponent={},B.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function te(){}te.prototype=B.prototype;function ae(D,ee,oe){this.props=D,this.context=ee,this.refs=Y,this.updater=oe||N}var ne=ae.prototype=new te;ne.constructor=ae,H(ne,B.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function x(D,ee,oe,ie,ge,De){return oe=De.ref,{$$typeof:r,type:D,key:ee,ref:oe!==void 0?oe:null,props:De}}function w(D,ee){return x(D.type,ee,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ee[oe]})}var P=/\/+/g;function U(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):ee.toString(36)}function C(){}function kt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function at(D,ee,oe,ie,ge){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=D._init,at(Ae(D._payload),ee,oe,ie,ge)}}if(Ae)return ge=ge(D),Ae=ie===""?"."+U(D,0):ie,he(ge)?(oe="",Ae!=null&&(oe=Ae.replace(P,"$&/")+"/"),at(ge,ee,oe,"",function(Yn){return Yn})):ge!=null&&(I(ge)&&(ge=w(ge,oe+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+Ae)),ee.push(ge)),1;Ae=0;var Ot=ie===""?".":ie+":";if(he(D))for(var Ze=0;Ze<D.length;Ze++)ie=D[Ze],De=Ot+U(ie,Ze),Ae+=at(ie,ee,oe,De,ge);else if(Ze=b(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ie=D.next()).done;)ie=ie.value,De=Ot+U(ie,Ze++),Ae+=at(ie,ee,oe,De,ge);else if(De==="object"){if(typeof D.then=="function")return at(kt(D),ee,oe,ie,ge);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(D,ee,oe){if(D==null)return D;var ie=[],ge=0;return at(D,ie,"","",function(De){return ee.call(oe,De,ge++)}),ie}function se(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return Re.Children={map:K,forEach:function(D,ee,oe){K(D,function(){ee.apply(this,arguments)},oe)},count:function(D){var ee=0;return K(D,function(){ee++}),ee},toArray:function(D){return K(D,function(ee){return ee})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=B,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ae,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return fe.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ee,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=H({},D.props),ge=D.key,De=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!we.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(ie[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=oe;else if(1<Ae){for(var Ot=Array(Ae),Ze=0;Ze<Ae;Ze++)Ot[Ze]=arguments[Ze+2];ie.children=Ot}return x(D.type,ge,void 0,void 0,De,ie)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ee,oe){var ie,ge={},De=null;if(ee!=null)for(ie in ee.key!==void 0&&(De=""+ee.key),ee)we.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ee[ie]);var Ae=arguments.length-2;if(Ae===1)ge.children=oe;else if(1<Ae){for(var Ot=Array(Ae),Ze=0;Ze<Ae;Ze++)Ot[Ze]=arguments[Ze+2];ge.children=Ot}if(D&&D.defaultProps)for(ie in Ae=D.defaultProps,Ae)ge[ie]===void 0&&(ge[ie]=Ae[ie]);return x(D,De,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:p,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:se}},Re.memo=function(D,ee){return{$$typeof:_,type:D,compare:ee===void 0?null:ee}},Re.startTransition=function(D){var ee=fe.T,oe={};fe.T=oe;try{var ie=D(),ge=fe.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,pe)}catch(De){pe(De)}finally{fe.T=ee}},Re.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Re.use=function(D){return fe.H.use(D)},Re.useActionState=function(D,ee,oe){return fe.H.useActionState(D,ee,oe)},Re.useCallback=function(D,ee){return fe.H.useCallback(D,ee)},Re.useContext=function(D){return fe.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ee){return fe.H.useDeferredValue(D,ee)},Re.useEffect=function(D,ee,oe){var ie=fe.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,ee)},Re.useId=function(){return fe.H.useId()},Re.useImperativeHandle=function(D,ee,oe){return fe.H.useImperativeHandle(D,ee,oe)},Re.useInsertionEffect=function(D,ee){return fe.H.useInsertionEffect(D,ee)},Re.useLayoutEffect=function(D,ee){return fe.H.useLayoutEffect(D,ee)},Re.useMemo=function(D,ee){return fe.H.useMemo(D,ee)},Re.useOptimistic=function(D,ee){return fe.H.useOptimistic(D,ee)},Re.useReducer=function(D,ee,oe){return fe.H.useReducer(D,ee,oe)},Re.useRef=function(D){return fe.H.useRef(D)},Re.useState=function(D){return fe.H.useState(D)},Re.useSyncExternalStore=function(D,ee,oe){return fe.H.useSyncExternalStore(D,ee,oe)},Re.useTransition=function(){return fe.H.useTransition()},Re.version="19.1.0",Re}var Tv;function im(){return Tv||(Tv=1,rp.exports=Jb()),rp.exports}var J=im();const ew=$b(J),tw=Xb({__proto__:null,default:ew},[J]);var sp={exports:{}},Ml={},ap={exports:{}},op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function nw(){return Av||(Av=1,function(r){function e(K,se){var pe=K.length;K.push(se);e:for(;0<pe;){var Be=pe-1>>>1,D=K[Be];if(0<o(D,se))K[Be]=se,K[pe]=D,pe=Be;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],pe=K.pop();if(pe!==se){K[0]=pe;e:for(var Be=0,D=K.length,ee=D>>>1;Be<ee;){var oe=2*(Be+1)-1,ie=K[oe],ge=oe+1,De=K[ge];if(0>o(ie,pe))ge<D&&0>o(De,ie)?(K[Be]=De,K[ge]=pe,Be=ge):(K[Be]=ie,K[oe]=pe,Be=oe);else if(ge<D&&0>o(De,pe))K[Be]=De,K[ge]=pe,Be=ge;else break e}}return se}function o(K,se){var pe=K.sortIndex-se.sortIndex;return pe!==0?pe:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],_=[],E=1,T=null,b=3,N=!1,H=!1,Y=!1,B=!1,te=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var se=n(_);se!==null;){if(se.callback===null)s(_);else if(se.startTime<=K)s(_),se.sortIndex=se.expirationTime,e(m,se);else break;se=n(_)}}function fe(K){if(Y=!1,he(K),!H)if(n(m)!==null)H=!0,we||(we=!0,U());else{var se=n(_);se!==null&&at(fe,se.startTime-K)}}var we=!1,x=-1,w=5,I=-1;function M(){return B?!0:!(r.unstable_now()-I<w)}function P(){if(B=!1,we){var K=r.unstable_now();I=K;var se=!0;try{e:{H=!1,Y&&(Y=!1,ae(x),x=-1),N=!0;var pe=b;try{t:{for(he(K),T=n(m);T!==null&&!(T.expirationTime>K&&M());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,b=T.priorityLevel;var D=Be(T.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){T.callback=D,he(K),se=!0;break t}T===n(m)&&s(m),he(K)}else s(m);T=n(m)}if(T!==null)se=!0;else{var ee=n(_);ee!==null&&at(fe,ee.startTime-K),se=!1}}break e}finally{T=null,b=pe,N=!1}se=void 0}}finally{se?U():we=!1}}}var U;if(typeof ne=="function")U=function(){ne(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,kt=C.port2;C.port1.onmessage=P,U=function(){kt.postMessage(null)}}else U=function(){te(P,0)};function at(K,se){x=te(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var pe=b;b=se;try{return K()}finally{b=pe}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=b;b=K;try{return se()}finally{b=pe}},r.unstable_scheduleCallback=function(K,se,pe){var Be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,K={id:E++,callback:se,priorityLevel:K,startTime:pe,expirationTime:D,sortIndex:-1},pe>Be?(K.sortIndex=pe,e(_,K),n(m)===null&&K===n(_)&&(Y?(ae(x),x=-1):Y=!0,at(fe,pe-Be))):(K.sortIndex=D,e(m,K),H||N||(H=!0,we||(we=!0,U()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var se=b;return function(){var pe=b;b=se;try{return K.apply(this,arguments)}finally{b=pe}}}}(op)),op}var Sv;function iw(){return Sv||(Sv=1,ap.exports=nw()),ap.exports}var lp={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function rw(){if(bv)return Yt;bv=1;var r=im();function e(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,_,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:_,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,_){if(m==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(m,_,null,E)},Yt.flushSync=function(m){var _=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=_,s.p=E,s.d.f()}},Yt.preconnect=function(m,_){typeof m=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(m,_))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,_){if(typeof m=="string"&&_&&typeof _.as=="string"){var E=_.as,T=p(E,_.crossOrigin),b=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(m,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:N}):E==="script"&&s.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(m,_){if(typeof m=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(m)},Yt.preload=function(m,_){if(typeof m=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,T=p(E,_.crossOrigin);s.d.L(m,E,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(m,_){if(typeof m=="string")if(_){var E=p(_.as,_.crossOrigin);s.d.m(m,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,_){return m(_)},Yt.useFormState=function(m,_,E){return f.H.useFormState(m,_,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var wv;function _T(){if(wv)return lp.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lp.exports=rw(),lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function sw(){if(Rv)return Ml;Rv=1;var r=iw(),e=im(),n=_T();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case B:return"Profiler";case Y:return"StrictMode";case fe:return"Suspense";case we:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case he:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:kt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return kt(t(i))}catch{}}return null}var at=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function ee(t){return{current:t}}function oe(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function ie(t,i){D++,Be[D]=t.current,t.current=i}var ge=ee(null),De=ee(null),Ae=ee(null),Ot=ee(null);function Ze(t,i){switch(ie(Ae,i),ie(De,t),ie(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ky(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ky(i),t=Qy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),ie(ge,t)}function Yn(){oe(ge),oe(De),oe(Ae)}function ir(t){t.memoizedState!==null&&ie(Ot,t);var i=ge.current,a=Qy(i,t.type);i!==a&&(ie(De,t),ie(ge,a))}function Ei(t){De.current===t&&(oe(ge),oe(De)),Ot.current===t&&(oe(Ot),Rl._currentValue=pe)}var ss=Object.prototype.hasOwnProperty,as=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,So=r.unstable_shouldYield,vu=r.unstable_requestPaint,bn=r.unstable_now,nf=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,ra=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,rf=r.unstable_LowPriority,sa=r.unstable_IdlePriority,wo=r.log,Eu=r.unstable_setDisableYieldValue,ot=null,Fe=null;function hn(t){if(typeof wo=="function"&&Eu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Kt=Math.clz32?Math.clz32:us,Tu=Math.log,sf=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(Tu(t)/sf|0)|0}var cs=256,hs=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function aa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=jn(l):(v&=A,v!==0?h=jn(v):a||(a=A&~t,a!==0&&(h=jn(a))))):(A=l&~d,A!==0?h=jn(A):v!==0?h=jn(v):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function fs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ro(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),t}function Co(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function Ti(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ai(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Do(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Kt(a),$=1<<Q;A[Q]=0,R[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Xn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Xn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Oo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sr(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function Au(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var tt=Math.random().toString(36).slice(2),St="__reactFiber$"+tt,_t="__reactProps$"+tt,wn="__reactContainer$"+tt,No="__reactEvents$"+tt,af="__reactListeners$"+tt,ar="__reactHandles$"+tt,Su="__reactResources$"+tt,ds="__reactMarker$"+tt;function or(t){delete t[St],delete t[_t],delete t[No],delete t[af],delete t[ar]}function Si(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Wy(t);t!==null;){if(a=t[St])return a;t=Wy(t)}return i}t=a,a=t.parentNode}return null}function $n(t){if(t=t[St]||t[wn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[ds]=!0}var Mo=new Set,la={};function Bn(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(la[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},ps={};function Ru(t){return ss.call(ps,t)?!0:ss.call(wu,t)?!1:bu.test(t)?ps[t]=!0:(wu[t]=!0,!1)}function lr(t,i,a){if(Ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Zn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ms,Iu;function wi(t){if(ms===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ms=i&&i[1]||"",Iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+t+Iu}var ua=!1;function ca(t,i){if(!t||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var R=v.split(`
`),z=A.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wi(a):""}function xo(t){switch(t.tag){case 26:case 27:case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return ca(t.type,!1);case 11:return ca(t.type.render,!1);case 1:return ca(t.type,!0);case 31:return wi("Activity");default:return""}}function ha(t){try{var i="";do i+=xo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Po(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function of(t){var i=Po(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function fa(t){t._valueTracker||(t._valueTracker=of(t))}function Vo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Po(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lf=/[\n"\\]/g;function yt(t){return t.replace(lf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ur(t,v,tn(i)):a!=null?ur(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+tn(A):t.removeAttribute("name")}function _s(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ur(t,i,a){i==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function ys(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||vs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Cu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Cu(t,d,i[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Di=null;function Lo(t){var i=$n(t);if(i&&(t=i.stateNode)){var a=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Vo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(t,!!a.multiple,i,!1)}}}var Jn=!1;function Du(t,i,a){if(Jn)return t(i,a);Jn=!0;try{var l=t(i);return l}finally{if(Jn=!1,(Ci!==null||Di!==null)&&(Ac(),Ci&&(i=Ci,t=Di,Di=Ci=null,Lo(i),t)))for(i=0;i<t.length;i++)Lo(t[i])}}function Es(t,i){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(zn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Cn=!1}var ei=null,cr=null,Oi=null;function jo(){if(Oi)return Oi;var t,i=cr,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function ti(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function Bo(){return!1}function Nt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Bo,this.isPropagationStopped=Bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Nt(qe),As=E({},qe,{view:0,detail:0}),Ou=Nt(As),ma,ga,ii,Ss=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(ma=t.screenX-ii.screenX,ga=t.screenY-ii.screenY):ga=ma=0,ii=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Dn=Nt(Ss),Nu=E({},Ss,{dataTransfer:0}),hf=Nt(Nu),bs=E({},As,{relatedTarget:0}),_a=Nt(bs),zo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=Nt(zo),Mu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),va=Nt(Mu),ff=E({},qe,{data:0}),qo=Nt(ff),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function Rs(){return Ho}var Vu=E({},As,{key:function(t){if(t.key){var i=ws[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ea=Nt(Vu),Uu=E({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Nt(Uu),Ni=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),ku=Nt(Ni),Lu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Nt(Lu),Bu=E({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Nt(Bu),nn=E({},qe,{newState:0,oldState:0}),zu=Nt(nn),qu=[9,13,27,32],ri=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var g=zn&&"TextEvent"in window&&!c,y=zn&&(!ri||c&&8<c&&11>=c),S=" ",k=!1;function G(t,i){switch(t){case"keyup":return qu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function bt(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(k=!0,S);case"textInput":return t=i.data,t===S&&k?null:t;default:return null}}function Ue(t,i){if(Ve)return t==="compositionend"||!ri&&G(t,i)?(t=jo(),Oi=cr=ei=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Mi(t,i,a,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,i=Cc(i,"onChange"),0<i.length&&(a=new pa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jt=null,si=null;function Go(t){zy(t,0)}function Hu(t){var i=Wn(t);if(Vo(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(zn){var df;if(zn){var pf="oninput"in document;if(!pf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),pf=typeof cg.oninput=="function"}df=pf}else df=!1;ug=df&&(!document.documentMode||9<document.documentMode)}function hg(){jt&&(jt.detachEvent("onpropertychange",fg),si=jt=null)}function fg(t){if(t.propertyName==="value"&&Hu(si)){var i=[];Mi(i,si,t,In(t)),Du(Go,i)}}function wS(t,i,a){t==="focusin"?(hg(),jt=i,si=a,jt.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(si)}function IS(t,i){if(t==="click")return Hu(i)}function CS(t,i){if(t==="input"||t==="change")return Hu(i)}function DS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:DS;function Ko(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ss.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gs(t.document)}return i}function mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var OS=zn&&"documentMode"in document&&11>=document.documentMode,Aa=null,gf=null,Qo=null,_f=!1;function _g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Aa==null||Aa!==gs(l)||(l=Aa,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Ko(Qo,l)||(Qo=l,l=Cc(gf,"onSelect"),0<l.length&&(i=new pa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},yf={},yg={};zn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Cs(t){if(yf[t])return yf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return yf[t]=i[a];return t}var vg=Cs("animationend"),Eg=Cs("animationiteration"),Tg=Cs("animationstart"),NS=Cs("transitionrun"),MS=Cs("transitionstart"),xS=Cs("transitioncancel"),Ag=Cs("transitionend"),Sg=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function qn(t,i){Sg.set(t,i),Bn(i,[t])}var bg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ha(i)},bg.set(t,i),i)}return{value:t,source:i,stack:ha(i)}}var Nn=[],ba=0,Ef=0;function Fu(){for(var t=ba,i=Ef=ba=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Gu(t,i,a,l){Nn[ba++]=t,Nn[ba++]=i,Nn[ba++]=a,Nn[ba++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Gu(t,i,a,l),Ku(t)}function wa(t,i){return Gu(t,null,null,i),Ku(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(t){if(50<yl)throw yl=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function PS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,a,l){return new PS(t,i,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var a=t.alternate;return a===null?(a=pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Af(t)&&(v=1);else if(typeof t=="string")v=Ub(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=pn(31,a,i,h),t.elementType=I,t.lanes=d,t;case H:return Ds(a.children,h,d,i);case Y:v=8,h|=24;break;case B:return t=pn(12,a,i,h|2),t.elementType=B,t.lanes=d,t;case fe:return t=pn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case we:return t=pn(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case ne:v=10;break e;case ae:v=9;break e;case he:v=11;break e;case x:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=pn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=pn(7,t,l,i),t.lanes=a,t}function Sf(t,i,a){return t=pn(6,t,null,i),t.lanes=a,t}function bf(t,i,a){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ia=[],Ca=0,Yu=null,Xu=0,Mn=[],xn=0,Os=null,Pi=1,Vi="";function Ns(t,i){Ia[Ca++]=Xu,Ia[Ca++]=Yu,Yu=t,Xu=i}function Ig(t,i,a){Mn[xn++]=Pi,Mn[xn++]=Vi,Mn[xn++]=Os,Os=t;var l=Pi;t=Vi;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-Kt(i)+h|a<<h|l,Vi=d+t}else Pi=1<<d|a<<h|l,Vi=t}function wf(t){t.return!==null&&(Ns(t,1),Ig(t,1,0))}function Rf(t){for(;t===Yu;)Yu=Ia[--Ca],Ia[Ca]=null,Xu=Ia[--Ca],Ia[Ca]=null;for(;t===Os;)Os=Mn[--xn],Mn[xn]=null,Vi=Mn[--xn],Mn[xn]=null,Pi=Mn[--xn],Mn[xn]=null}var rn=null,lt=null,ze=!1,Ms=null,ai=!1,If=Error(s(519));function xs(t){var i=Error(s(418,""));throw $o(On(i,t)),If}function Cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[_t]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Me(El[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ys(i,l.value,l.defaultValue,l.children),fa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Gy(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Dc),i=!0):i=!1,i||xs(t)}function Dg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:rn=rn.return}}function Yo(t){if(t!==rn)return!1;if(!ze)return Dg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&lt&&xs(t),Dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Rr(t.type)?(t=Qd,Qd=null,lt=t):lt=i):lt=rn?Fn(t.stateNode.nextSibling):null;return!0}function Xo(){lt=rn=null,ze=!1}function Og(){var t=Ms;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ms=null),t}function $o(t){Ms===null?Ms=[t]:Ms.push(t)}var Cf=ee(null),Ps=null,Ui=null;function hr(t,i,a){ie(Cf,i._currentValue),i._currentValue=a}function ki(t){t._currentValue=Cf.current,oe(Cf)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var R=0;R<i.length;R++)if(A.context===i[R]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Wo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ot.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ps=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Ng(Ps,t)}function Wu(t,i){return Ps===null&&Vs(t),Ng(t,i)}function Ng(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ui=Ui.next=i;return a}var VS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},US=r.unstable_scheduleCallback,kS=r.unstable_NormalPriority,Rt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new VS,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&US(kS,function(){t.controller.abort()})}var Jo=null,Mf=0,Da=0,Oa=null;function LS(t,i){if(Jo===null){var a=Jo=[];Mf=0,Da=Pd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,i.then(Mg,Mg),i}function Mg(){if(--Mf===0&&Jo!==null){Oa!==null&&(Oa.status="fulfilled");var t=Jo;Jo=null,Da=0,Oa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&LS(t,i),xg!==null&&xg(t,i)};var Us=ee(null);function xf(){var t=Us.current;return t!==null?t:Je.pooledCache}function Zu(t,i){i===null?ie(Us,Us.current):ie(Us,i.pool)}function Pg(){var t=xf();return t===null?null:{parent:Rt._currentValue,pool:t}}var el=Error(s(460)),Vg=Error(s(474)),Ju=Error(s(542)),Pf={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function kg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ec,ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t;default:if(typeof i.status=="string")i.then(ec,ec);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t}throw tl=i,el}}var tl=null;function Lg(){if(tl===null)throw Error(s(459));var t=tl;return tl=null,t}function jg(t){if(t===el||t===Ju)throw Error(s(483))}var fr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(t),wg(t,null,a),i}return Gu(t,l,i,a),Ku(t)}function nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function il(){if(Lf){var t=Oa;if(t!==null)throw t}}function rl(t,i,a,l){Lf=!1;var h=t.updateQueue;fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var R=A,z=R.next;R.next=null,v===null?d=z:v.next=z,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==v&&(A===null?Q.firstBaseUpdate=z:A.next=z,Q.lastBaseUpdate=R))}if(d!==null){var $=h.baseState;v=0,Q=z=R=null,A=d;do{var q=A.lane&-536870913,F=q!==A.lane;if(F?(ke&q)===q:(l&q)===q){q!==0&&q===Da&&(Lf=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ee=t,_e=A;q=i;var $e=a;switch(_e.tag){case 1:if(Ee=_e.payload,typeof Ee=="function"){$=Ee.call($e,$,q);break e}$=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=_e.payload,q=typeof Ee=="function"?Ee.call($e,$,q):Ee,q==null)break e;$=E({},$,q);break e;case 2:fr=!0}}q=A.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(z=Q=F,R=$):Q=Q.next=F,v|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;F=A,A=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(R=$),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ar|=v,t.lanes=v,t.memoizedState=$}}function Bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bg(a[t],i)}var Na=ee(null),tc=ee(0);function qg(t,i){t=Fi,ie(tc,t),ie(Na,i),Fi=t|i.baseLanes}function jf(){ie(tc,Fi),ie(Na,Na.current)}function Bf(){Fi=tc.current,oe(Na),oe(tc)}var mr=0,Ie=null,Ye=null,vt=null,nc=!1,Ma=!1,ks=!1,ic=0,sl=0,xa=null,BS=0;function dt(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function qf(t,i,a,l,h,d){return mr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?w_:R_,ks=!1,d=a(l,h),ks=!1,Ma&&(d=Fg(i,a,l,h)),Hg(t),d}function Hg(t){K.H=uc;var i=Ye!==null&&Ye.next!==null;if(mr=0,vt=Ye=Ie=null,nc=!1,sl=0,xa=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&$u(t)&&(xt=!0))}function Fg(t,i,a,l){Ie=t;var h=0;do{if(Ma&&(xa=null),sl=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,vt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=QS,d=i(a,l)}while(Ma);return d}function zS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?al(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Hf(){var t=ic!==0;return ic=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}mr=0,vt=Ye=Ie=null,Ma=!1,sl=ic=0,xa=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=vt===null?Ie.memoizedState:vt.next;if(i!==null)vt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var i=sl;return sl+=1,xa===null&&(xa=[]),t=kg(xa,t,i),i=Ie,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?w_:R_),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ne)return Qt(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Kf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function sc(t){var i=Et();return Yf(i,Ye,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,R=null,z=i,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(ke&$)===$:(mr&$)===$){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Da&&(Q=!0);else if((mr&q)===q){z=z.next,q===Da&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(A=R=$,v=d):R=R.next=$,Ie.lanes|=q,Ar|=q;$=z.action,ks&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else q={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(A=R=q,v=d):R=R.next=q,Ie.lanes|=$,Ar|=$;z=z.next}while(z!==null&&z!==i);if(R===null?v=d:R.next=A,!dn(d,t.memoizedState)&&(xt=!0,Q&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,i,a){var l=Ie,h=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,xt=!0),h=h.queue;var A=Yg.bind(null,l,h,t);if(ol(2048,8,A,[t]),h.getSnapshot!==i||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,ac(),Qg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(mr&124)!==0||Kg(l,i,a)}return a}function Kg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Kf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qg(t,i,a,l){i.value=a,i.getSnapshot=l,Xg(i)&&$g(t)}function Yg(t,i,a){return a(function(){Xg(i)&&$g(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function $g(t){var i=wa(t,2);i!==null&&vn(i,t,2)}function $f(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),ks){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function Wg(t,i,a,l){return t.baseState=a,Yf(t,Ye,typeof l=="function"?l:Li)}function qS(t,i,a,l,h){if(lc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var A=a(h,l),R=K.S;R!==null&&R(v,A),Jg(t,i,A)}catch(z){Wf(t,i,z)}finally{K.T=d}}else try{d=a(h,l),Jg(t,i,d)}catch(z){Wf(t,i,z)}}function Jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){e_(t,i,l)},function(l){return Wf(t,i,l)}):e_(t,i,a)}function e_(t,i,a){i.status="fulfilled",i.value=a,t_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Zg(t,a)))}function Wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,t_(i),i=i.next;while(i!==l)}t.action=null}function t_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function n_(t,i){return i}function i_(t,i){if(ze){var a=Je.formState;if(a!==null){e:{var l=Ie;if(ze){if(lt){t:{for(var h=lt,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Fn(h.nextSibling),l=h.data==="F!";break e}}xs(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:i},a.queue=l,a=A_.bind(null,Ie,l),l.dispatch=a,l=$f(!1),d=nd.bind(null,Ie,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=qS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function r_(t){var i=Et();return s_(i,Ye,t)}function s_(t,i,a){if(i=Yf(t,i,n_)[0],t=sc(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(v){throw v===el?Ju:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Pa(9,ac(),HS.bind(null,h,a),null)),[l,d,t]}function HS(t,i){t.action=i}function a_(t){var i=Et(),a=Ye;if(a!==null)return s_(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Pa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Kf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ac(){return{destroy:void 0,resource:void 0}}function o_(){return Et().memoizedState}function oc(t,i,a,l){var h=an();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Pa(1|i,ac(),a,l)}function ol(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&zf(l,Ye.memoizedState.deps)?h.memoizedState=Pa(i,d,a,l):(Ie.flags|=t,h.memoizedState=Pa(1|i,d,a,l))}function l_(t,i){oc(8390656,8,t,i)}function u_(t,i){ol(2048,8,t,i)}function c_(t,i){return ol(4,2,t,i)}function h_(t,i){return ol(4,4,t,i)}function f_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function d_(t,i,a){a=a!=null?a.concat([t]):null,ol(4,4,f_.bind(null,i,t),a)}function Zf(){}function p_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function m_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=t(),ks){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function Jf(t,i,a){return a===void 0||(mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=yy(),Ie.lanes|=t,Ar|=t,a)}function g_(t,i,a,l){return dn(a,i)?a:Na.current!==null?(t=Jf(t,a,l),dn(t,i)||(xt=!0),t):(mr&42)===0?(xt=!0,t.memoizedState=a):(t=yy(),Ie.lanes|=t,Ar|=t,i)}function __(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=K.T,A={};K.T=A,nd(t,!1,i,a);try{var R=h(),z=K.S;if(z!==null&&z(A,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=jS(R,l);ll(t,i,Q,yn(t))}else ll(t,i,l,yn(t))}catch($){ll(t,i,{then:function(){},status:"rejected",reason:$},yn())}finally{se.p=d,K.T=v}}function FS(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=y_(t).queue;__(t,h,i,pe,a===null?FS:function(){return v_(t),a(l)})}function y_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function v_(t){var i=y_(t).next.queue;ll(t,i,{},yn())}function td(){return Qt(Rl)}function E_(){return Et().memoizedState}function T_(){return Et().memoizedState}function GS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=dr(a);var l=pr(i,t,a);l!==null&&(vn(l,i,a),nl(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function KS(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?S_(i,a):(a=Tf(t,i,a,l),a!==null&&(vn(a,t,l),b_(a,i,l)))}function A_(t,i,a){var l=yn();ll(t,i,a,l)}function ll(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))S_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,dn(A,v))return Gu(t,i,h,0),Je===null&&Fu(),!1}catch{}finally{}if(a=Tf(t,i,h,l),a!==null)return vn(a,t,l),b_(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Pd(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&vn(i,t,2)}function lc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function S_(t,i){Ma=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function b_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Oo(t,a)}}var uc={readContext:Qt,use:rc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},w_={readContext:Qt,use:rc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:l_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,f_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(ks){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(ks){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=A_.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=an();return Jf(a,t,i)},useTransition:function(){var t=$f(!1);return t=__.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(ke&124)!==0||Kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,l_(Yg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,ac(),Qg.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=Je.identifierPrefix;if(ze){var a=Vi,l=Pi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=BS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:i_,useActionState:i_,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return an().memoizedState=GS.bind(null,Ie)}},R_={readContext:Qt,use:rc,useCallback:p_,useContext:Qt,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:m_,useReducer:sc,useRef:o_,useState:function(){return sc(Li)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=Et();return g_(a,Ye.memoizedState,t,i)},useTransition:function(){var t=sc(Li)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Gg,useId:E_,useHostTransitionStatus:td,useFormState:r_,useActionState:r_,useOptimistic:function(t,i){var a=Et();return Wg(a,Ye,t,i)},useMemoCache:Qf,useCacheRefresh:T_},QS={readContext:Qt,use:rc,useCallback:p_,useContext:Qt,useEffect:u_,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:m_,useReducer:Xf,useRef:o_,useState:function(){return Xf(Li)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=Et();return Ye===null?Jf(a,t,i):g_(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Xf(Li)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Gg,useId:E_,useHostTransitionStatus:td,useFormState:a_,useActionState:a_,useOptimistic:function(t,i){var a=Et();return Ye!==null?Wg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:T_},Va=null,ul=0;function cc(t){var i=ul;return ul+=1,Va===null&&(Va=[]),kg(Va,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function I_(t){var i=t._init;return i(t._payload)}function C_(t){function i(V,O){if(t){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function a(V,O){if(!t)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=xi(V,O),V.index=0,V.sibling=null,V}function d(V,O,L){return V.index=L,t?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function A(V,O,L,X){return O===null||O.tag!==6?(O=Sf(L,V.mode,X),O.return=V,O):(O=h(O,L),O.return=V,O)}function R(V,O,L,X){var ce=L.type;return ce===H?Q(V,O,L.props.children,X,L.key):O!==null&&(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&I_(ce)===O.type)?(O=h(O,L.props),cl(O,L),O.return=V,O):(O=Qu(L.type,L.key,L.props,null,V.mode,X),cl(O,L),O.return=V,O)}function z(V,O,L,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=bf(L,V.mode,X),O.return=V,O):(O=h(O,L.children||[]),O.return=V,O)}function Q(V,O,L,X,ce){return O===null||O.tag!==7?(O=Ds(L,V.mode,X,ce),O.return=V,O):(O=h(O,L),O.return=V,O)}function $(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sf(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return L=Qu(O.type,O.key,O.props,null,V.mode,L),cl(L,O),L.return=V,L;case N:return O=bf(O,V.mode,L),O.return=V,O;case w:var X=O._init;return O=X(O._payload),$(V,O,L)}if(at(O)||U(O))return O=Ds(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return $(V,cc(O),L);if(O.$$typeof===ne)return $(V,Wu(V,O),L);hc(V,O)}return null}function q(V,O,L,X){var ce=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:A(V,O,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ce?R(V,O,L,X):null;case N:return L.key===ce?z(V,O,L,X):null;case w:return ce=L._init,L=ce(L._payload),q(V,O,L,X)}if(at(L)||U(L))return ce!==null?null:Q(V,O,L,X,null);if(typeof L.then=="function")return q(V,O,cc(L),X);if(L.$$typeof===ne)return q(V,O,Wu(V,L),X);hc(V,L)}return null}function F(V,O,L,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(L)||null,A(O,V,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return V=V.get(X.key===null?L:X.key)||null,R(O,V,X,ce);case N:return V=V.get(X.key===null?L:X.key)||null,z(O,V,X,ce);case w:var Oe=X._init;return X=Oe(X._payload),F(V,O,L,X,ce)}if(at(X)||U(X))return V=V.get(L)||null,Q(O,V,X,ce,null);if(typeof X.then=="function")return F(V,O,L,cc(X),ce);if(X.$$typeof===ne)return F(V,O,L,Wu(O,X),ce);hc(O,X)}return null}function Ee(V,O,L,X){for(var ce=null,Oe=null,de=O,ye=O=0,Vt=null;de!==null&&ye<L.length;ye++){de.index>ye?(Vt=de,de=null):Vt=de.sibling;var je=q(V,de,L[ye],X);if(je===null){de===null&&(de=Vt);break}t&&de&&je.alternate===null&&i(V,de),O=d(je,O,ye),Oe===null?ce=je:Oe.sibling=je,Oe=je,de=Vt}if(ye===L.length)return a(V,de),ze&&Ns(V,ye),ce;if(de===null){for(;ye<L.length;ye++)de=$(V,L[ye],X),de!==null&&(O=d(de,O,ye),Oe===null?ce=de:Oe.sibling=de,Oe=de);return ze&&Ns(V,ye),ce}for(de=l(de);ye<L.length;ye++)Vt=F(de,V,ye,L[ye],X),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?ye:Vt.key),O=d(Vt,O,ye),Oe===null?ce=Vt:Oe.sibling=Vt,Oe=Vt);return t&&de.forEach(function(Nr){return i(V,Nr)}),ze&&Ns(V,ye),ce}function _e(V,O,L,X){if(L==null)throw Error(s(151));for(var ce=null,Oe=null,de=O,ye=O=0,Vt=null,je=L.next();de!==null&&!je.done;ye++,je=L.next()){de.index>ye?(Vt=de,de=null):Vt=de.sibling;var Nr=q(V,de,je.value,X);if(Nr===null){de===null&&(de=Vt);break}t&&de&&Nr.alternate===null&&i(V,de),O=d(Nr,O,ye),Oe===null?ce=Nr:Oe.sibling=Nr,Oe=Nr,de=Vt}if(je.done)return a(V,de),ze&&Ns(V,ye),ce;if(de===null){for(;!je.done;ye++,je=L.next())je=$(V,je.value,X),je!==null&&(O=d(je,O,ye),Oe===null?ce=je:Oe.sibling=je,Oe=je);return ze&&Ns(V,ye),ce}for(de=l(de);!je.done;ye++,je=L.next())je=F(de,V,ye,je.value,X),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?ye:je.key),O=d(je,O,ye),Oe===null?ce=je:Oe.sibling=je,Oe=je);return t&&de.forEach(function(Yb){return i(V,Yb)}),ze&&Ns(V,ye),ce}function $e(V,O,L,X){if(typeof L=="object"&&L!==null&&L.type===H&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ce=L.key;O!==null;){if(O.key===ce){if(ce=L.type,ce===H){if(O.tag===7){a(V,O.sibling),X=h(O,L.props.children),X.return=V,V=X;break e}}else if(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&I_(ce)===O.type){a(V,O.sibling),X=h(O,L.props),cl(X,L),X.return=V,V=X;break e}a(V,O);break}else i(V,O);O=O.sibling}L.type===H?(X=Ds(L.props.children,V.mode,X,L.key),X.return=V,V=X):(X=Qu(L.type,L.key,L.props,null,V.mode,X),cl(X,L),X.return=V,V=X)}return v(V);case N:e:{for(ce=L.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(V,O.sibling),X=h(O,L.children||[]),X.return=V,V=X;break e}else{a(V,O);break}else i(V,O);O=O.sibling}X=bf(L,V.mode,X),X.return=V,V=X}return v(V);case w:return ce=L._init,L=ce(L._payload),$e(V,O,L,X)}if(at(L))return Ee(V,O,L,X);if(U(L)){if(ce=U(L),typeof ce!="function")throw Error(s(150));return L=ce.call(L),_e(V,O,L,X)}if(typeof L.then=="function")return $e(V,O,cc(L),X);if(L.$$typeof===ne)return $e(V,O,Wu(V,L),X);hc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(V,O.sibling),X=h(O,L),X.return=V,V=X):(a(V,O),X=Sf(L,V.mode,X),X.return=V,V=X),v(V)):a(V,O)}return function(V,O,L,X){try{ul=0;var ce=$e(V,O,L,X);return Va=null,ce}catch(de){if(de===el||de===Ju)throw de;var Oe=pn(29,de,null,V.mode);return Oe.lanes=X,Oe.return=V,Oe}finally{}}}var Ua=C_(!0),D_=C_(!1),Pn=ee(null),oi=null;function gr(t){var i=t.alternate;ie(It,It.current&1),ie(Pn,t),oi===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(oi=t)}function O_(t){if(t.tag===22){if(ie(It,It.current),ie(Pn,t),oi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(oi=t)}}else _r()}function _r(){ie(It,It.current),ie(Pn,Pn.current)}function ji(t){oe(Pn),oi===t&&(oi=null),oe(It)}var It=ee(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Kd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function id(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),h=dr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(vn(i,t,l),nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),h=dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(vn(i,t,l),nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=dr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(t,l,a),i!==null&&(vn(i,t,a),nl(i,t,a))}};function N_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function M_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&rd.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function x_(t){dc(t)}function P_(t){console.error(t)}function V_(t){dc(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function U_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,i,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function k_(t){return t=dr(t),t.tag=3,t}function L_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){U_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){U_(i,a,l),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function YS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Wo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return oi===null?Dd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Dd(),!1}if(ze)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==If&&(t=Error(s(422),{cause:l}),$o(On(t,a)))):(l!==If&&(i=Error(s(423),{cause:l}),$o(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=sd(t.stateNode,l,h),kf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),_l===null?_l=[d]:_l.push(d),ut!==4&&(ut=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=k_(h),L_(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var j_=Error(s(461)),xt=!1;function Bt(t,i,a,l){i.child=t===null?D_(i,null,a,l):Ua(i,t.child,a,l)}function B_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Vs(i),l=qf(t,i,a,v,d,h),A=Hf(),t!==null&&!xt?(Ff(t,i,h),Bi(t,i,h)):(ze&&A&&wf(i),i.flags|=1,Bt(t,i,l,h),i.child)}function z_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,q_(t,i,d,l,h)):(t=Qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!dd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(v,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function q_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return ad(t,i,a,l,h)}function H_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return F_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?qg(i,d):jf(),O_(i);else return i.lanes=i.childLanes=536870912,F_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(i,d.cachePool),qg(i,d),_r(),i.memoizedState=null):(t!==null&&Zu(i,null),jf(),_r());return Bt(t,i,h,a),i.child}function F_(t,i,a,l){var h=xf();return h=h===null?null:{parent:Rt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zu(i,null),jf(),O_(i),t!==null&&Wo(t,i,l,!0),null}function mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,l,h){return Vs(i),a=qf(t,i,a,l,void 0,h),l=Hf(),t!==null&&!xt?(Ff(t,i,h),Bi(t,i,h)):(ze&&l&&wf(i),i.flags|=1,Bt(t,i,a,h),i.child)}function G_(t,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=Fg(i,l,a,h),Hg(t),l=Hf(),t!==null&&!xt?(Ff(t,i,d),Bi(t,i,d)):(ze&&l&&wf(i),i.flags|=1,Bt(t,i,a,d),i.child)}function K_(t,i,a,l,h){if(Vs(i),i.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ra,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rd.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,R=Ls(a,A);d.props=R;var z=d.context,Q=a.contextType;v=Ra,typeof Q=="object"&&Q!==null&&(v=Qt(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&M_(i,d,l,v),fr=!1;var q=i.memoizedState;d.state=q,rl(i,l,d,h),il(),z=i.memoizedState,A||q!==z||fr?(typeof $=="function"&&(id(i,a,$,l),z=i.memoizedState),(R=fr||N_(i,a,R,l,q,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),v=i.memoizedProps,Q=Ls(a,v),d.props=Q,$=i.pendingProps,q=d.context,z=a.contextType,R=Ra,typeof z=="object"&&z!==null&&(R=Qt(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||q!==R)&&M_(i,d,l,R),fr=!1,q=i.memoizedState,d.state=q,rl(i,l,d,h),il();var F=i.memoizedState;v!==$||q!==F||fr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof A=="function"&&(id(i,a,A,l),F=i.memoizedState),(Q=fr||N_(i,a,Q,l,q,F,R)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ua(i,t.child,null,h),i.child=Ua(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Bi(t,i,h),t}function Q_(t,i,a,l){return Xo(),i.flags|=256,Bt(t,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Pg()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Vn),t}function Y_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?gr(i):_r(),ze){var A=lt,R;if(R=A){e:{for(R=A,A=ai;R.nodeType!==8;){if(!A){A=null;break e}if(R=Fn(R.nextSibling),R===null){A=null;break e}}A=R}A!==null?(i.memoizedState={dehydrated:A,treeContext:Os!==null?{id:Pi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},R=pn(18,null,null,0),R.stateNode=A,R.return=i,i.child=R,rn=i,lt=null,R=!0):R=!1}R||xs(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Kd(A)?i.lanes=32:i.lanes=536870912,null;ji(i)}return A=l.children,l=l.fallback,h?(_r(),h=i.mode,A=gc({mode:"hidden",children:A},h),l=Ds(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=ld(a),h.childLanes=ud(t,v,a),i.memoizedState=od,l):(gr(i),cd(i,A))}if(R=t.memoizedState,R!==null&&(A=R.dehydrated,A!==null)){if(d)i.flags&256?(gr(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=l.fallback,A=i.mode,l=gc({mode:"visible",children:l.children},A),h=Ds(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ua(i,t.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,v,a),i.memoizedState=od,i=h);else if(gr(i),Kd(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),i=hd(t,i,a)}else if(xt||Wo(t,i,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:rr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,wa(t,l),vn(v,t,l),j_;A.data==="$?"||Dd(),i=hd(t,i,a)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,lt=Fn(A.nextSibling),rn=i,ze=!0,Ms=null,ai=!1,t!==null&&(Mn[xn++]=Pi,Mn[xn++]=Vi,Mn[xn++]=Os,Pi=t.id,Vi=t.overflow,Os=i),i=cd(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,A=i.mode,R=t.child,z=R.sibling,l=xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?h=xi(z,h):(h=Ds(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=ld(a):(R=A.cachePool,R!==null?(z=Rt._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Pg(),A={baseLanes:A.baseLanes|a,cachePool:R}),h.memoizedState=A,h.childLanes=ud(t,v,a),i.memoizedState=od,l):(gr(i),a=t.child,t=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=pn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hd(t,i,a){return Ua(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function X_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function fd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function $_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,a,i);else if(t.tag===19)X_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(i,!0,a,null,d);break;case"together":fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Wo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function XS(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),hr(i,Rt,t.memoizedState.cache),Xo();break;case 27:case 5:ir(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Y_(t,i,a):(gr(i),t=Bi(t,i,a),t!==null?t.sibling:null);gr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Wo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return $_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,H_(t,i,a);case 24:hr(i,Rt,t.memoizedState.cache)}return Bi(t,i,a)}function W_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return xt=!1,XS(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,ze&&(i.flags&1048576)!==0&&Ig(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Af(l)?(t=Ls(l,t),i.tag=1,i=K_(null,i,l,t,a)):(i.tag=0,i=ad(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){i.tag=11,i=B_(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=z_(null,i,l,t,a);break e}}throw i=kt(l)||l,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),K_(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),rl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,hr(i,Rt,l),l!==d.cache&&Of(i,[Rt],a,!0),il(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Q_(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),$o(h),i=Q_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Fn(t.firstChild),rn=i,ze=!0,Ms=null,ai=!0,a=D_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===h){i=Bi(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return mc(t,i),t===null?(a=tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Oc(Ae.current).createElement(a),l[St]=i,l[_t]=t,qt(l,a,t),ft(l),i.stateNode=l):i.memoizedState=tv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ir(i),t===null&&ze&&(l=i.stateNode=Zy(i.type,i.pendingProps,Ae.current),rn=i,ai=!0,h=lt,Rr(i.type)?(Qd=h,lt=Fn(l.firstChild)):lt=h),Bt(t,i,i.pendingProps.children,a),mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=lt)&&(l=Sb(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,rn=i,lt=Fn(l.firstChild),ai=!1,h=!0):h=!1),h||xs(i)),ir(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Hd(h,d)?l=null:v!==null&&Hd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(t,i,zS,null,null,a),Rl._currentValue=h),mc(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=lt)&&(a=bb(a,i.pendingProps,ai),a!==null?(i.stateNode=a,rn=i,lt=null,t=!0):t=!1),t||xs(i)),null;case 13:return Y_(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ua(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return B_(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,hr(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Qt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return z_(t,i,i.type,i.pendingProps,a);case 15:return q_(t,i,i.type,i.pendingProps,a);case 19:return $_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=gc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return H_(t,i,a);case 24:return Vs(i),l=Qt(Rt),t===null?(h=xf(),h===null&&(h=Je,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),hr(i,Rt,h)):((t.lanes&a)!==0&&(Uf(t,i),rl(i,null,null,a),il()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hr(i,Rt,l)):(l=d.cache,hr(i,Rt,l),l!==h.cache&&Of(i,[Rt],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function zi(t){t.flags|=4}function Z_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(i)){if(i=Pn.current,i!==null&&((ke&4194048)===ke?oi!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==oi))throw tl=Pf,Vg;t.flags|=8192}}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Co():536870912,t.lanes|=i,Ba|=i)}function hl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $S(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(Rt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Og())),it(i),null;case 26:return a=i.memoizedState,t===null?(zi(i),a!==null?(it(i),Z_(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(zi(i),it(i),Z_(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&zi(i),it(i),i.flags&=-16777217),null;case 27:Ei(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ge.current,Yo(i)?Cg(i):(t=Zy(h,l,a),i.stateNode=t,zi(i))}return it(i),null;case 5:if(Ei(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=ge.current,Yo(i))Cg(i);else{switch(h=Oc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[_t]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Yo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gy(t.nodeValue,a)),t||xs(i)}else t=Oc(t).createTextNode(l),t[St]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ji(i),i):(ji(i),null)}if(ji(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),it(i),null;case 4:return Yn(),t===null&&Ld(i.stateNode.containerInfo),it(i),null;case 10:return ki(i.type),it(i),null;case 19:if(oe(It),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)hl(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,hl(h,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Rg(a,t),a=a.sibling;return ie(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&bn()>Ec&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304)}else{if(!l)if(t=fc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return it(i),null}else 2*bn()-h.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bn(),i.sibling=null,t=It.current,ie(It,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return ji(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Rt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WS(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(Rt),Yn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ei(i),null;case 13:if(ji(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(It),null;case 4:return Yn(),null;case 10:return ki(i.type),null;case 22:case 23:return ji(i),Bf(),t!==null&&oe(Us),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(Rt),null;case 25:return null;default:return null}}function J_(t,i){switch(Rf(i),i.tag){case 3:ki(Rt),Yn();break;case 26:case 27:case 5:Ei(i);break;case 4:Yn();break;case 13:ji(i);break;case 19:oe(It);break;case 10:ki(i.type);break;case 22:case 23:ji(i),Bf(),t!==null&&oe(Us);break;case 24:ki(Rt)}}function fl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){We(i,i.return,A)}}function yr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var R=a,z=A;try{z()}catch(Q){We(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){We(i,i.return,Q)}}function ey(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){We(t,t.return,l)}}}function ty(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function li(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function ny(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function pd(t,i,a){try{var l=t.stateNode;yb(l,t.type,a,i),l[_t]=i}catch(h){We(t,t.return,h)}}function iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rr(t.type)||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Dc));else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(gd(t,i,a),t=t.sibling;t!==null;)gd(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}function ry(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[St]=t,i[_t]=a}catch(d){We(t,t.return,d)}}var qi=!1,pt=!1,_d=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function ZS(t,i){if(t=t.containerInfo,zd=Uc,t=gg(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,R=-1,z=0,Q=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(A=v+h),$!==d||l!==0&&$.nodeType!==3||(R=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++z===h&&(A=v),q===d&&++Q===l&&(R=v),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=A===-1||R===-1?null:{start:A,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Uc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function ay(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(t,a),l&4&&fl(5,a);break;case 1:if(vr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&ey(a),l&512&&dl(a,a.return);break;case 3:if(vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&ry(a);case 26:case 5:vr(t,a),i===null&&l&4&&ny(a),l&512&&dl(a,a.return);break;case 12:vr(t,a);break;case 13:vr(t,a),l&4&&uy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ob.bind(null,a),wb(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||pt,h=qi;var d=pt;qi=l,(pt=i)&&!d?Er(t,a,(a.subtreeFlags&8772)!==0):vr(t,a),qi=h,pt=d}break;case 30:break;default:vr(t,a)}}function oy(t){var i=t.alternate;i!==null&&(t.alternate=null,oy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&or(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,on=!1;function Hi(t,i,a){for(a=a.child;a!==null;)ly(t,i,a),a=a.sibling}function ly(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:pt||li(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||li(a,i);var l=nt,h=on;Rr(a.type)&&(nt=a.stateNode,on=!1),Hi(t,i,a),Al(a.stateNode),nt=l,on=h;break;case 5:pt||li(a,i);case 6:if(l=nt,h=on,nt=null,Hi(t,i,a),nt=l,on=h,nt!==null)if(on)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:nt!==null&&(on?(t=nt,$y(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ol(t)):$y(nt,a.stateNode));break;case 4:l=nt,h=on,nt=a.stateNode.containerInfo,on=!0,Hi(t,i,a),nt=l,on=h;break;case 0:case 11:case 14:case 15:pt||yr(2,a,i),pt||yr(4,a,i),Hi(t,i,a);break;case 1:pt||(li(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ty(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Hi(t,i,a),pt=l;break;default:Hi(t,i,a)}}function uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){We(i,i.return,a)}}function JS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new sy),i;default:throw Error(s(435,t.tag))}}function yd(t,i){var a=JS(t);i.forEach(function(l){var h=lb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Rr(A.type)){nt=A.stateNode,on=!1;break e}break;case 5:nt=A.stateNode,on=!1;break e;case 3:case 4:nt=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(nt===null)throw Error(s(160));ly(d,v,h),nt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)cy(i,t),i=i.sibling}var Hn=null;function cy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),gn(t),l&4&&(yr(3,t,t.return),fl(3,t),yr(5,t,t.return));break;case 1:mn(i,t),gn(t),l&512&&(pt||a===null||li(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(mn(i,t),gn(t),l&512&&(pt||a===null||li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ds]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[St]=t,ft(d),l=d;break e;case"link":var v=rv("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=rv("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ft(d),l=d}t.stateNode=l}else sv(h,t.type,t.stateNode);else t.stateNode=iv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sv(h,t.type,t.stateNode):iv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),gn(t),l&512&&(pt||a===null||li(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),gn(t),l&512&&(pt||a===null||li(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(F){We(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(mn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){We(t,t.return,F)}}break;case 3:if(xc=null,h=Hn,Hn=Nc(i.containerInfo),mn(i,t),Hn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(i.containerInfo)}catch(F){We(t,t.return,F)}_d&&(_d=!1,hy(t));break;case 4:l=Hn,Hn=Nc(t.stateNode.containerInfo),mn(i,t),gn(t),Hn=l;break;case 12:mn(i,t),gn(t);break;case 13:mn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=qi,Q=pt;if(qi=z||h,pt=Q||R,mn(i,t),pt=Q,qi=z,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||qi||pt||js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=R.stateNode;var $=R.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){We(R,R.return,F)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(F){We(R,R.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(t,a))));break;case 19:mn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 30:break;case 21:break;default:mn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(iy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=md(t);yc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var A=md(t);yc(t,A,v);break;case 3:case 4:var R=a.stateNode.containerInfo,z=md(t);gd(t,z,R);break;default:throw Error(s(161))}}catch(Q){We(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ay(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:yr(4,i,i.return),js(i);break;case 1:li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ty(i,i.return,a),js(i);break;case 27:Al(i.stateNode);case 26:case 5:li(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function Er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Er(h,d,a),fl(4,d);break;case 1:if(Er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){We(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Bg(R[h],A)}catch(z){We(l,l.return,z)}}a&&v&64&&ey(d),dl(d,d.return);break;case 27:ry(d);case 26:case 5:Er(h,d,a),a&&l===null&&v&4&&ny(d),dl(d,d.return);break;case 12:Er(h,d,a);break;case 13:Er(h,d,a),a&&v&4&&uy(h,d);break;case 22:d.memoizedState===null&&Er(h,d,a),dl(d,d.return);break;case 30:break;default:Er(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t))}function ui(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fy(t,i,a,l),i=i.sibling}function fy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,l),h&2048&&fl(9,i);break;case 1:ui(t,i,a,l);break;case 3:ui(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t)));break;case 12:if(h&2048){ui(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(i,i.return,R)}}else ui(t,i,a,l);break;case 13:ui(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ui(t,i,a,l):pl(t,i):d._visibility&2?ui(t,i,a,l):(d._visibility|=2,ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&vd(v,i);break;case 24:ui(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:ui(t,i,a,l)}}function ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ka(d,v,A,R,h),fl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ka(d,v,A,R,h):pl(d,v):(Q._visibility|=2,ka(d,v,A,R,h)),h&&z&2048&&vd(v.alternate,v);break;case 24:ka(d,v,A,R,h),h&&z&2048&&Ed(v.alternate,v);break;default:ka(d,v,A,R,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&vd(l.alternate,l);break;case 24:pl(a,l),h&2048&&Ed(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var ml=8192;function La(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)dy(t),t=t.sibling}function dy(t){switch(t.tag){case 26:La(t),t.flags&ml&&t.memoizedState!==null&&Lb(Hn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var i=Hn;Hn=Nc(t.stateNode.containerInfo),La(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,La(t),ml=i):La(t));break;default:La(t)}}function py(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,gy(l,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&yr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vc(t)):gl(t);break;default:gl(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,gy(l,t)}py(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:yr(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vc(i));break;default:vc(i)}t=t.sibling}}function gy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:yr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(oy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var eb={getCacheForType:function(t){var i=Qt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},tb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Ne=null,ke=0,Ke=0,_n=null,Tr=!1,ja=!1,Td=!1,Fi=0,ut=0,Ar=0,Bs=0,Ad=0,Vn=0,Ba=0,_l=null,ln=null,Sd=!1,bd=0,Ec=1/0,Tc=null,Sr=null,zt=0,br=null,za=null,qa=0,wd=0,Rd=null,_y=null,yl=0,Id=null;function yn(){if((Ge&2)!==0&&ke!==0)return ke&-ke;if(K.T!==null){var t=Da;return t!==0?t:Pd()}return sr()}function yy(){Vn===0&&(Vn=(ke&536870912)===0||ze?Io():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),Vn}function vn(t,i,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),wr(t,ke,Vn,!1)),Ai(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Bs|=a),ut===4&&wr(t,ke,Vn,!1)),ci(t))}function vy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||fs(t,i),h=l?rb(t,i):Od(t,i,!0),d=l;do{if(h===0){ja&&!l&&wr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!nb(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=_l;var R=A.current.memoizedState.isDehydrated;if(R&&(Ha(A,v).flags|=256),v=Od(A,v,!1),v!==2){if(Td&&!R){A.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),wr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wr(l,i,Vn,!Tr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bd+300-bn(),10<h)){if(wr(l,i,Vn,!Tr),aa(l,0,!0)!==0)break e;l.timeoutHandle=Yy(Ey.bind(null,l,a,ln,Tc,Sd,i,Vn,Bs,Ba,Tr,d,2,-0,0),h);break e}Ey(l,a,ln,Tc,Sd,i,Vn,Bs,Ba,Tr,d,0,-0,0)}}break}while(!0);ci(t)}function Ey(t,i,a,l,h,d,v,A,R,z,Q,$,q,F){if(t.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:kb},dy(i),$=jb(),$!==null)){t.cancelPendingCommit=$(Iy.bind(null,t,i,d,a,l,h,v,A,R,Q,1,q,F)),wr(t,d,v,!z);return}Iy(t,i,d,a,l,h,v,A,R)}function nb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(t,i,a,l){i&=~Ad,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(t,a,i)}function Ac(){return(Ge&6)===0?(vl(0),!1):!0}function Cd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Ui=Ps=null,Gf(t),Va=null,ul=0,t=Ne;for(;t!==null;)J_(t.alternate,t),t=t.return;Ne=null}}function Ha(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Eb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cd(),Je=t,Ne=a=xi(t.current,null),ke=i,Ke=0,_n=null,Tr=!1,ja=fs(t,i),Td=!1,Ba=Vn=Ad=Bs=Ar=ut=0,ln=_l=null,Sd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Fu(),a}function Ty(t,i){Ie=null,K.H=uc,i===el||i===Ju?(i=Lg(),Ke=3):i===Vg?(i=Lg(),Ke=4):Ke=i===j_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Ne===null&&(ut=1,pc(t,On(i,t.current)))}function Ay(){var t=K.H;return K.H=uc,t===null?uc:t}function Sy(){var t=K.A;return K.A=eb,t}function Dd(){ut=4,Tr||(ke&4194048)!==ke&&Pn.current!==null||(ja=!0),(Ar&134217727)===0&&(Bs&134217727)===0||Je===null||wr(Je,ke,Vn,!1)}function Od(t,i,a){var l=Ge;Ge|=2;var h=Ay(),d=Sy();(Je!==t||ke!==i)&&(Tc=null,Ha(t,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&Ne!==null){var A=Ne,R=_n;switch(Ke){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var z=Ke;if(Ke=0,_n=null,Fa(t,A,R,z),a&&ja){v=0;break e}break;default:z=Ke,Ke=0,_n=null,Fa(t,A,R,z)}}ib(),v=ut;break}catch(Q){Ty(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Ui=Ps=null,Ge=l,K.H=h,K.A=d,Ne===null&&(Je=null,ke=0,Fu()),v}function ib(){for(;Ne!==null;)by(Ne)}function rb(t,i){var a=Ge;Ge|=2;var l=Ay(),h=Sy();Je!==t||ke!==i?(Tc=null,Ec=bn()+500,Ha(t,i)):ja=fs(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=_n;t:switch(Ke){case 1:Ke=0,_n=null,Fa(t,i,d,1);break;case 2:case 9:if(Ug(d)){Ke=0,_n=null,wy(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),ci(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ug(d)?(Ke=0,_n=null,wy(i)):(Ke=0,_n=null,Fa(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var A=Ne;if(!v||av(v)){Ke=0,_n=null;var R=A.sibling;if(R!==null)Ne=R;else{var z=A.return;z!==null?(Ne=z,Sc(z)):Ne=null}break t}}Ke=0,_n=null,Fa(t,i,d,5);break;case 6:Ke=0,_n=null,Fa(t,i,d,6);break;case 8:Cd(),ut=6;break e;default:throw Error(s(462))}}sb();break}catch(Q){Ty(t,Q)}while(!0);return Ui=Ps=null,K.H=l,K.A=h,Ge=a,Ne!==null?0:(Je=null,ke=0,Fu(),ut)}function sb(){for(;Ne!==null&&!So();)by(Ne)}function by(t){var i=W_(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?Sc(t):Ne=i}function wy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=G_(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=G_(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Gf(i);default:J_(a,i),i=Ne=Rg(i,Fi),i=W_(a,i,Fi)}t.memoizedProps=t.pendingProps,i===null?Sc(t):Ne=i}function Fa(t,i,a,l){Ui=Ps=null,Gf(i),Va=null,ul=0;var h=i.return;try{if(YS(t,h,i,a,ke)){ut=1,pc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ut=1,pc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(ze||l===1?t=!0:ja||(ke&536870912)!==0?t=!1:(Tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ry(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){Ry(i,Tr);return}t=i.return;var a=$S(i.alternate,i,Fi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ut===0&&(ut=5)}function Ry(t,i){do{var a=WS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function Iy(t,i,a,l,h,d,v,A,R){t.cancelPendingCommit=null;do bc();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ef,Do(t,a,d,v,A,R),t===Je&&(Ne=Je=null,ke=0),za=i,br=t,qa=a,wd=d,Rd=h,_y=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ub(ls,function(){return My(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,v=Ge,Ge|=4;try{ZS(t,i,a)}finally{Ge=v,se.p=h,K.T=l}}zt=1,Cy(),Dy(),Oy()}}function Cy(){if(zt===1){zt=0;var t=br,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{cy(i,t);var d=qd,v=gg(t.containerInfo),A=d.focusedElem,R=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&mg(A.ownerDocument.documentElement,A)){if(R!==null&&mf(A)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Q,A.value.length);else{var $=A.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),Ee=A.textContent.length,_e=Math.min(R.start,Ee),$e=R.end===void 0?_e:Math.min(R.end,Ee);!F.extend&&_e>$e&&(v=$e,$e=_e,_e=v);var V=pg(A,_e),O=pg(A,$e);if(V&&O&&(F.rangeCount!==1||F.anchorNode!==V.node||F.anchorOffset!==V.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var L=$.createRange();L.setStart(V.node,V.offset),F.removeAllRanges(),_e>$e?(F.addRange(L),F.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),F.addRange(L))}}}}for($=[],F=A;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var X=$[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Uc=!!zd,qd=zd=null}finally{Ge=h,se.p=l,K.T=a}}t.current=i,zt=2}}function Dy(){if(zt===2){zt=0;var t=br,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var h=Ge;Ge|=4;try{ay(t,i.alternate,i)}finally{Ge=h,se.p=l,K.T=a}}zt=3}}function Oy(){if(zt===4||zt===3){zt=0,vu();var t=br,i=za,a=qa,l=_y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,za=br=null,Ny(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sr=null),oa(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{K.T=i,se.p=h}}(qa&3)!==0&&bc(),ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Id?yl++:(yl=0,Id=t):yl=0,vl(0)}}function Ny(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Zo(i)))}function bc(t){return Cy(),Dy(),Oy(),My()}function My(){if(zt!==5)return!1;var t=br,i=wd;wd=0;var a=oa(qa),l=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=Rd,Rd=null;var d=br,v=qa;if(zt=0,za=br=null,qa=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,my(d.current),fy(d,d.current,v,a),Ge=A,vl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{se.p=h,K.T=l,Ny(t,i)}}function xy(t,i,a){i=On(a,i),i=sd(t.stateNode,i,2),t=pr(t,i,2),t!==null&&(Ai(t,2),ci(t))}function We(t,i,a){if(t.tag===3)xy(t,t,a);else for(;i!==null;){if(i.tag===3){xy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){t=On(a,t),a=k_(2),l=pr(i,a,2),l!==null&&(L_(a,l,i,t),Ai(l,2),ci(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new tb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),t=ab.bind(null,t,i,a),i.then(t,t))}function ab(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(ke&a)===a&&(ut===4||ut===3&&(ke&62914560)===ke&&300>bn()-bd?(Ge&2)===0&&Ha(t,0):Ad|=a,Ba===ke&&(Ba=0)),ci(t)}function Py(t,i){i===0&&(i=Co()),t=wa(t,i),t!==null&&(Ai(t,i),ci(t))}function ob(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Py(t,a)}function lb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Py(t,a)}function ub(t,i){return as(t,i)}var wc=null,Ga=null,Md=!1,Rc=!1,xd=!1,zs=0;function ci(t){t!==Ga&&t.next===null&&(Ga===null?wc=Ga=t:Ga=Ga.next=t),Rc=!0,Md||(Md=!0,hb())}function vl(t,i){if(!xd&&Rc){xd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ly(l,d))}else d=ke,d=aa(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fs(l,d)||(a=!0,Ly(l,d));l=l.next}while(a);xd=!1}}function cb(){Vy()}function Vy(){Rc=Md=!1;var t=0;zs!==0&&(vb()&&(t=zs),zs=0);for(var i=bn(),a=null,l=wc;l!==null;){var h=l.next,d=Uy(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}vl(t)}function Uy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),A=1<<v,R=h[v];R===-1?((A&a)===0||(A&l)!==0)&&(h[v]=Ro(A,i)):R<=i&&(t.expiredLanes|=A),d&=~A}if(i=Je,a=ke,a=aa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&os(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=ls;break;case 268435456:a=sa;break;default:a=ls}return l=ky.bind(null,t),a=as(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function ky(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var l=ke;return l=aa(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vy(t,l,i),Uy(t,bn()),t.callbackNode!=null&&t.callbackNode===a?ky.bind(null,t):null)}function Ly(t,i){if(bc())return null;vy(t,i,!0)}function hb(){Tb(function(){(Ge&6)!==0?as(bo,cb):Vy()})}function Pd(){return zs===0&&(zs=Io()),zs}function jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function By(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function fb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=jy((h[_t]||null).action),v=l.submitter;v&&(i=(i=v[_t]||null)?jy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new pa("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var R=v?By(h,v):new FormData(h);ed(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(A.preventDefault(),R=v?By(h,v):new FormData(h),ed(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Vd=0;Vd<vf.length;Vd++){var Ud=vf[Vd],db=Ud.toLowerCase(),pb=Ud[0].toUpperCase()+Ud.slice(1);qn(db,"on"+pb)}qn(vg,"onAnimationEnd"),qn(Eg,"onAnimationIteration"),qn(Tg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(NS,"onTransitionRun"),qn(MS,"onTransitionStart"),qn(xS,"onTransitionCancel"),qn(Ag,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function zy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],R=A.instance,z=A.currentTarget;if(A=A.listener,R!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Q){dc(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(A=l[v],R=A.instance,z=A.currentTarget,A=A.listener,R!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(Q){dc(Q)}h.currentTarget=null,d=R}}}}function Me(t,i){var a=i[No];a===void 0&&(a=i[No]=new Set);var l=t+"__bubble";a.has(l)||(qy(i,t,2,!1),a.add(l))}function kd(t,i,a){var l=0;i&&(l|=4),qy(a,t,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Ic]){t[Ic]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(mb.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,kd("selectionchange",!1,i))}}function qy(t,i,a,l){switch(fv(i)){case 2:var h=qb;break;case 8:h=Hb;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Si(A),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Du(function(){var z=d,Q=In(a),$=[];e:{var q=Sg.get(t);if(q!==void 0){var F=pa,Ee=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":F=Ea;break;case"focusin":Ee="focus",F=_a;break;case"focusout":Ee="blur",F=_a;break;case"beforeblur":case"afterblur":F=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ku;break;case vg:case Eg:case Tg:F=ya;break;case Ag:F=ju;break;case"scroll":case"scrollend":F=Ou;break;case"wheel":F=Ta;break;case"copy":case"cut":case"paste":F=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Fo;break;case"toggle":case"beforetoggle":F=zu}var _e=(i&4)!==0,$e=!_e&&(t==="scroll"||t==="scrollend"),V=_e?q!==null?q+"Capture":null:q;_e=[];for(var O=z,L;O!==null;){var X=O;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||V===null||(X=Es(O,V),X!=null&&_e.push(Tl(O,X,L))),$e)break;O=O.return}0<_e.length&&(q=new F(q,Ee,null,a,Q),$.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ii&&(Ee=a.relatedTarget||a.fromElement)&&(Si(Ee)||Ee[wn]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(Ee=a.relatedTarget||a.toElement,F=z,Ee=Ee?Si(Ee):null,Ee!==null&&($e=u(Ee),_e=Ee.tag,Ee!==$e||_e!==5&&_e!==27&&_e!==6)&&(Ee=null)):(F=null,Ee=z),F!==Ee)){if(_e=Dn,X="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Fo,X="onPointerLeave",V="onPointerEnter",O="pointer"),$e=F==null?q:Wn(F),L=Ee==null?q:Wn(Ee),q=new _e(X,O+"leave",F,a,Q),q.target=$e,q.relatedTarget=L,X=null,Si(Q)===z&&(_e=new _e(V,O+"enter",Ee,a,Q),_e.target=L,_e.relatedTarget=$e,X=_e),$e=X,F&&Ee)t:{for(_e=F,V=Ee,O=0,L=_e;L;L=Ka(L))O++;for(L=0,X=V;X;X=Ka(X))L++;for(;0<O-L;)_e=Ka(_e),O--;for(;0<L-O;)V=Ka(V),L--;for(;O--;){if(_e===V||V!==null&&_e===V.alternate)break t;_e=Ka(_e),V=Ka(V)}_e=null}else _e=null;F!==null&&Hy($,q,F,_e,!1),Ee!==null&&$e!==null&&Hy($,$e,Ee,_e,!0)}}e:{if(q=z?Wn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ce=lg;else if(wt(q))if(ug)ce=CS;else{ce=RS;var Oe=wS}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ko(z.elementType)&&(ce=lg):ce=IS;if(ce&&(ce=ce(t,z))){Mi($,ce,a,Q);break e}Oe&&Oe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&ur(q,"number",q.value)}switch(Oe=z?Wn(z):window,t){case"focusin":(wt(Oe)||Oe.contentEditable==="true")&&(Aa=Oe,gf=z,Qo=null);break;case"focusout":Qo=gf=Aa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,_g($,a,Q);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":_g($,a,Q)}var de;if(ri)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ve?G(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(y&&a.locale!=="ko"&&(Ve||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ve&&(de=jo()):(ei=Q,cr="value"in ei?ei.value:ei.textContent,Ve=!0)),Oe=Cc(z,ye),0<Oe.length&&(ye=new qo(ye,t,null,a,Q),$.push({event:ye,listeners:Oe}),de?ye.data=de:(de=re(a),de!==null&&(ye.data=de)))),(de=g?bt(t,a):Ue(t,a))&&(ye=Cc(z,"onBeforeInput"),0<ye.length&&(Oe=new qo("onBeforeInput","beforeinput",null,a,Q),$.push({event:Oe,listeners:ye}),Oe.data=de)),fb($,t,z,a,Q)}zy($,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(Tl(t,h,d)),h=Es(t,i),h!=null&&l.push(Tl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,R=A.alternate,z=A.stateNode;if(A=A.tag,R!==null&&R===l)break;A!==5&&A!==26&&A!==27||z===null||(R=z,h?(z=Es(a,d),z!=null&&v.unshift(Tl(a,z,R))):h||(z=Es(a,d),z!=null&&v.push(Tl(a,z,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var gb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function Fy(t){return(typeof t=="string"?t:""+t).replace(gb,`
`).replace(_b,"")}function Gy(t,i){return i=Fy(i),Fy(t)===i}function Dc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uf.get(a)||a,lr(t,a,l))}}function Bd(t,i,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):lr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var A=d=v=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Q,a,null)}}_s(t,d,A,R,z,v,h,!1),fa(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Xe(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Xe(t,i,v,A,a,null)}ys(t,l,h,d),fa(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Me(El[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,z,l,a,null)}return;default:if(ko(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Bd(t,i,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Xe(t,i,A,l,a,null))}function yb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,R=null,z=null,Q=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":v=F;break;case"defaultValue":A=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==$&&Xe(t,i,q,F,l,$)}}fn(t,v,A,R,z,Q,d,h);return;case"select":F=v=A=q=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=A,a=v,l=F,q!=null?Ri(t,!!a,q,!1):!!l!=!!a&&(i!=null?Ri(t,!!a,i,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xe(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,q,F);return;case"option":for(var Ee in a)if(q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Xe(t,i,Ee,null,l,q)}for(R in l)if(q=l[R],F=a[R],l.hasOwnProperty(R)&&q!==F&&(q!=null||F!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(t,i,R,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Xe(t,i,_e,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Xe(t,i,z,q,l,F)}return;default:if(ko(i)){for(var $e in a)q=a[$e],a.hasOwnProperty($e)&&q!==void 0&&!l.hasOwnProperty($e)&&Bd(t,i,$e,void 0,l,q);for(Q in l)q=l[Q],F=a[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||Bd(t,i,Q,q,l,F);return}}for(var V in a)q=a[V],a.hasOwnProperty(V)&&q!=null&&!l.hasOwnProperty(V)&&Xe(t,i,V,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||Xe(t,i,$,q,l,F)}var zd=null,qd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function Ky(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function vb(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(t){return Xy.resolve(null).then(t).catch(Ab)}:Yy;function Ab(t){setTimeout(function(){throw t})}function Rr(t){return t==="head"}function $y(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Al(v.documentElement),a&2&&Al(v.body),a&4)for(a=v.head,Al(a),v=a.firstChild;v;){var A=v.nextSibling,R=v.nodeName;v[ds]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}if(h===0){t.removeChild(d),Ol(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(i)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Sb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function bb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function wb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Qd=null;function Wy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Zy(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);or(t)}var Un=new Map,Jy=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=se.d;se.d={f:Rb,r:Ib,D:Cb,C:Db,L:Ob,m:Nb,X:xb,S:Mb,M:Pb};function Rb(){var t=Gi.f(),i=Ac();return t||i}function Ib(t){var i=$n(t);i!==null&&i.tag===5&&i.type==="form"?v_(i):Gi.r(t)}var Qa=typeof document>"u"?null:document;function ev(t,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Jy.has(h)||(Jy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),ft(i),l.head.appendChild(i)))}}function Cb(t){Gi.D(t),ev("dns-prefetch",t,null)}function Db(t,i){Gi.C(t,i),ev("preconnect",t,i)}function Ob(t,i,a){Gi.L(t,i,a);var l=Qa;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=Xa(t)}Un.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),qt(i,"link",t),ft(i),l.head.appendChild(i)))}}function Nb(t,i){Gi.m(t,i);var a=Qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Un.has(d)&&(t=E({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),qt(l,"link",t),ft(l),a.head.appendChild(l)}}}function Mb(t,i,a){Gi.S(t,i,a);var l=Qa;if(l&&t){var h=en(l).hoistableStyles,d=Ya(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Sl(d)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Yd(t,a);var R=v=l.createElement("link");ft(R),qt(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){A.loading|=1}),R.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function xb(t,i){Gi.X(t,i);var a=Qa;if(a&&t){var l=en(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0},i),(i=Un.get(h))&&Xd(t,i),d=a.createElement("script"),ft(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Pb(t,i){Gi.M(t,i);var a=Qa;if(a&&t){var l=en(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Xd(t,i),d=a.createElement("script"),ft(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tv(t,i,a,l){var h=(h=Ae.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||Vb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ya(t){return'href="'+yt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function nv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Vb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),ft(i),t.head.appendChild(i))}function Xa(t){return'[src="'+yt(t)+'"]'}function bl(t){return"script[async]"+t}function iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),qt(l,"style",h),Mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=nv(a),(h=Un.get(h))&&Yd(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(A,R){v.onload=A,v.onerror=R}),qt(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,ft(h),h):(l=a,(h=Un.get(d))&&(l=E({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,t));return i.instance}function Mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function rv(t,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ds]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function sv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Ub(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function kb(){}function Lb(t,i,a){if(wl===null)throw Error(s(475));var l=wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ya(a.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=nv(a),(h=Un.get(h))&&Yd(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(A,R){v.onload=A,v.onerror=R}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Pc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function jb(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&$d(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&$d(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function $d(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(Bb,t),Vc=null,Pc.call(t))}function Bb(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function zb(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ov(t,i,a,l,h,d,v,A,R,z,Q,$){return t=new zb(t,i,a,v,A,R,z,$),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function lv(t){return t?(t=Ra,t):Ra}function uv(t,i,a,l,h,d){h=lv(h),l.context===null?l.context=h:l.pendingContext=h,l=dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(t,l,i),a!==null&&(vn(a,t,i),nl(a,t,i))}function cv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wd(t,i){cv(t,i),(t=t.alternate)&&cv(t,i)}function hv(t){if(t.tag===13){var i=wa(t,67108864);i!==null&&vn(i,t,67108864),Wd(t,67108864)}}var Uc=!0;function qb(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,Zd(t,i,a,l)}finally{se.p=d,K.T=h}}function Hb(t,i,a,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,Zd(t,i,a,l)}finally{se.p=d,K.T=h}}function Zd(t,i,a,l){if(Uc){var h=Jd(l);if(h===null)jd(t,i,l,kc,a),dv(t,l);else if(Gb(h,t,i,a,l))l.stopPropagation();else if(dv(t,l),i&4&&-1<Fb.indexOf(t)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var R=1<<31-Kt(v);A.entanglements[1]|=R,v&=~R}ci(d),(Ge&6)===0&&(Ec=bn()+500,vl(0))}}break;case 13:A=wa(d,2),A!==null&&vn(A,d,2),Ac(),Wd(d,2)}if(d=Jd(l),d===null&&jd(t,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function Jd(t){return t=In(t),ep(t)}var kc=null;function ep(t){if(kc=null,t=Si(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nf()){case bo:return 2;case ra:return 8;case ls:case rf:return 32;case sa:return 268435456;default:return 32}default:return 32}}var tp=!1,Ir=null,Cr=null,Dr=null,Il=new Map,Cl=new Map,Or=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,i){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Dl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&hv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Gb(t,i,a,l,h){switch(i){case"focusin":return Ir=Dl(Ir,t,i,a,l,h),!0;case"dragenter":return Cr=Dl(Cr,t,i,a,l,h),!0;case"mouseover":return Dr=Dl(Dr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Dl(Cl.get(d)||null,t,i,a,l,h)),!0}return!1}function pv(t){var i=Si(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Au(t.priority,function(){if(a.tag===13){var l=yn();l=rr(l);var h=wa(a,l);h!==null&&vn(h,a,l),Wd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return i=$n(a),i!==null&&hv(i),t.blockedOn=a,!1;i.shift()}return!0}function mv(t,i,a){Lc(t)&&a.delete(i)}function Kb(){tp=!1,Ir!==null&&Lc(Ir)&&(Ir=null),Cr!==null&&Lc(Cr)&&(Cr=null),Dr!==null&&Lc(Dr)&&(Dr=null),Il.forEach(mv),Cl.forEach(mv)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,tp||(tp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kb)))}var Bc=null;function gv(t){Bc!==t&&(Bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(ep(l||a)===null)continue;break}var d=$n(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(t){function i(R){return jc(R,t)}Ir!==null&&jc(Ir,t),Cr!==null&&jc(Cr,t),Dr!==null&&jc(Dr,t),Il.forEach(i),Cl.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_t]||null;if(typeof d=="function")v||gv(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_t]||null)A=v.formAction;else if(ep(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),gv(a)}}}function np(t){this._internalRoot=t}zc.prototype.render=np.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();uv(a,l,t,i,null,null)},zc.prototype.unmount=np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;uv(t.current,2,null,t,null,null),Ac(),i[wn]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=sr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,t),a===0&&pv(t)}};var _v=e.version;if(_v!=="19.1.0")throw Error(s(527,_v,"19.1.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Qb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{ot=qc.inject(Qb),Fe=qc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=x_,d=P_,v=V_,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=ov(t,1,!1,null,null,a,l,h,d,v,A,null),t[wn]=i.current,Ld(t),new np(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=x_,v=P_,A=V_,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=ov(t,1,!0,i,a??null,l,h,d,v,A,R,z),i.context=lv(null),a=i.current,l=yn(),l=rr(l),h=dr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,Ai(i,a),ci(i),t[wn]=i.current,Ld(t),new zc(i)},Ml.version="19.1.0",Ml}var Iv;function aw(){if(Iv)return sp.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sp.exports=sw(),sp.exports}var ow=aw();_T();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Kl.apply(this,arguments)}var Lr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Lr||(Lr={}));const Cv="popstate";function lw(r){r===void 0&&(r={});function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return bp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:oh(o)}return cw(e,n,null,r)}function gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yT(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uw(){return Math.random().toString(36).substr(2,8)}function Dv(r,e){return{usr:r.state,key:r.key,idx:e}}function bp(r,e,n,s){return n===void 0&&(n=null),Kl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?mo(e):e,{state:n,key:e&&e.key||s||uw()})}function oh(r){let{pathname:e="/",search:n="",hash:s=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function cw(r,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p=Lr.Pop,m=null,_=E();_==null&&(_=0,f.replaceState(Kl({},f.state,{idx:_}),""));function E(){return(f.state||{idx:null}).idx}function T(){p=Lr.Pop;let B=E(),te=B==null?null:B-_;_=B,m&&m({action:p,location:Y.location,delta:te})}function b(B,te){p=Lr.Push;let ae=bp(Y.location,B,te);_=E()+1;let ne=Dv(ae,_),he=Y.createHref(ae);try{f.pushState(ne,"",he)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(he)}u&&m&&m({action:p,location:Y.location,delta:1})}function N(B,te){p=Lr.Replace;let ae=bp(Y.location,B,te);_=E();let ne=Dv(ae,_),he=Y.createHref(ae);f.replaceState(ne,"",he),u&&m&&m({action:p,location:Y.location,delta:0})}function H(B){let te=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof B=="string"?B:oh(B);return ae=ae.replace(/ $/,"%20"),gt(te,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,te)}let Y={get action(){return p},get location(){return r(o,f)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,T),m=B,()=>{o.removeEventListener(Cv,T),m=null}},createHref(B){return e(o,B)},createURL:H,encodeLocation(B){let te=H(B);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:b,replace:N,go(B){return f.go(B)}};return Y}var Ov;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Ov||(Ov={}));function hw(r,e,n){return n===void 0&&(n="/"),fw(r,e,n)}function fw(r,e,n,s){let o=typeof e=="string"?mo(e):e,u=rm(o.pathname||"/",n);if(u==null)return null;let f=vT(r);dw(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let _=ww(u);p=Aw(f[m],_)}return p}function vT(r,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(gt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let _=Br([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(gt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),vT(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:Ew(_,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of ET(u.path))o(u,f,m)}),e}function ET(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=ET(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function dw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Tw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const pw=/^:[\w-]+$/,mw=3,gw=2,_w=1,yw=10,vw=-2,Nv=r=>r==="*";function Ew(r,e){let n=r.split("/"),s=n.length;return n.some(Nv)&&(s+=vw),e&&(s+=gw),n.filter(o=>!Nv(o)).reduce((o,u)=>o+(pw.test(u)?mw:u===""?_w:yw),s)}function Tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Aw(r,e,n){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],_=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Sw({path:m.relativePath,caseSensitive:m.caseSensitive,end:_},E),b=m.route;if(!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Br([u,T.pathname]),pathnameBase:Dw(Br([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=Br([u,T.pathnameBase]))}return f}function Sw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=bw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((_,E,T)=>{let{paramName:b,isOptional:N}=E;if(b==="*"){let Y=p[T]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const H=p[T];return N&&!H?_[b]=void 0:_[b]=(H||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function bw(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yT(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ww(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yT(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function rm(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Rw(r,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:n?n.startsWith("/")?n:Iw(n,e):e,search:Ow(s),hash:Nw(o)}}function Iw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function up(r,e,n,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sm(r,e){let n=Cw(r);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function am(r,e,n,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=mo(r):(o=Kl({},r),gt(!o.pathname||!o.pathname.includes("?"),up("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),up("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),up("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}p=T>=0?e[T]:"/"}let m=Rw(o,p),_=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(_||E)&&(m.pathname+="/"),m}const Br=r=>r.join("/").replace(/\/\/+/g,"/"),Dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ow=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Nw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Mw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const TT=["post","put","patch","delete"];new Set(TT);const xw=["get",...TT];new Set(xw);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ql.apply(this,arguments)}const om=J.createContext(null),Pw=J.createContext(null),es=J.createContext(null),Ch=J.createContext(null),ts=J.createContext({outlet:null,matches:[],isDataRoute:!1}),AT=J.createContext(null);function Vw(r,e){let{relative:n}=e===void 0?{}:e;go()||gt(!1);let{basename:s,navigator:o}=J.useContext(es),{hash:u,pathname:f,search:p}=bT(r,{relative:n}),m=f;return s!=="/"&&(m=f==="/"?s:Br([s,f])),o.createHref({pathname:m,search:p,hash:u})}function go(){return J.useContext(Ch)!=null}function au(){return go()||gt(!1),J.useContext(Ch).location}function ST(r){J.useContext(es).static||J.useLayoutEffect(r)}function ou(){let{isDataRoute:r}=J.useContext(ts);return r?Yw():Uw()}function Uw(){go()||gt(!1);let r=J.useContext(om),{basename:e,future:n,navigator:s}=J.useContext(es),{matches:o}=J.useContext(ts),{pathname:u}=au(),f=JSON.stringify(sm(o,n.v7_relativeSplatPath)),p=J.useRef(!1);return ST(()=>{p.current=!0}),J.useCallback(function(_,E){if(E===void 0&&(E={}),!p.current)return;if(typeof _=="number"){s.go(_);return}let T=am(_,JSON.parse(f),u,E.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Br([e,T.pathname])),(E.replace?s.replace:s.push)(T,E.state,E)},[e,s,f,u,r])}function bT(r,e){let{relative:n}=e===void 0?{}:e,{future:s}=J.useContext(es),{matches:o}=J.useContext(ts),{pathname:u}=au(),f=JSON.stringify(sm(o,s.v7_relativeSplatPath));return J.useMemo(()=>am(r,JSON.parse(f),u,n==="path"),[r,f,u,n])}function kw(r,e){return Lw(r,e)}function Lw(r,e,n,s){go()||gt(!1);let{navigator:o,static:u}=J.useContext(es),{matches:f}=J.useContext(ts),p=f[f.length-1],m=p?p.params:{};p&&p.pathname;let _=p?p.pathnameBase:"/";p&&p.route;let E=au(),T;if(e){var b;let te=typeof e=="string"?mo(e):e;_==="/"||(b=te.pathname)!=null&&b.startsWith(_)||gt(!1),T=te}else T=E;let N=T.pathname||"/",H=N;if(_!=="/"){let te=_.replace(/^\//,"").split("/");H="/"+N.replace(/^\//,"").split("/").slice(te.length).join("/")}let Y=hw(r,{pathname:H}),B=Hw(Y&&Y.map(te=>Object.assign({},te,{params:Object.assign({},m,te.params),pathname:Br([_,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?_:Br([_,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&B?J.createElement(Ch.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Lr.Pop}},B):B}function jw(){let r=Qw(),e=Mw(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const Bw=J.createElement(jw,null);class zw extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(ts.Provider,{value:this.props.routeContext},J.createElement(AT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qw(r){let{routeContext:e,match:n,children:s}=r,o=J.useContext(om);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(ts.Provider,{value:e},s)}function Hw(r,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),r==null){var u;if(!n)return null;if(n.errors)r=n.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let f=r,p=(o=n)==null?void 0:o.errors;if(p!=null){let E=f.findIndex(T=>T.route.id&&(p==null?void 0:p[T.route.id])!==void 0);E>=0||gt(!1),f=f.slice(0,Math.min(f.length,E+1))}let m=!1,_=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let T=f[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=E),T.route.id){let{loaderData:b,errors:N}=n,H=T.route.loader&&b[T.route.id]===void 0&&(!N||N[T.route.id]===void 0);if(T.route.lazy||H){m=!0,_>=0?f=f.slice(0,_+1):f=[f[0]];break}}}return f.reduceRight((E,T,b)=>{let N,H=!1,Y=null,B=null;n&&(N=p&&T.route.id?p[T.route.id]:void 0,Y=T.route.errorElement||Bw,m&&(_<0&&b===0?(Xw("route-fallback"),H=!0,B=null):_===b&&(H=!0,B=T.route.hydrateFallbackElement||null)));let te=e.concat(f.slice(0,b+1)),ae=()=>{let ne;return N?ne=Y:H?ne=B:T.route.Component?ne=J.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=E,J.createElement(qw,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?J.createElement(zw,{location:n.location,revalidation:n.revalidation,component:Y,error:N,children:ae(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):ae()},null)}var wT=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(wT||{}),RT=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(RT||{});function Fw(r){let e=J.useContext(om);return e||gt(!1),e}function Gw(r){let e=J.useContext(Pw);return e||gt(!1),e}function Kw(r){let e=J.useContext(ts);return e||gt(!1),e}function IT(r){let e=Kw(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function Qw(){var r;let e=J.useContext(AT),n=Gw(),s=IT();return e!==void 0?e:(r=n.errors)==null?void 0:r[s]}function Yw(){let{router:r}=Fw(wT.UseNavigateStable),e=IT(RT.UseNavigateStable),n=J.useRef(!1);return ST(()=>{n.current=!0}),J.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Ql({fromRouteId:e},u)))},[r,e])}const Mv={};function Xw(r,e,n){Mv[r]||(Mv[r]=!0)}function $w(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Ww(r){let{to:e,replace:n,state:s,relative:o}=r;go()||gt(!1);let{future:u,static:f}=J.useContext(es),{matches:p}=J.useContext(ts),{pathname:m}=au(),_=ou(),E=am(e,sm(p,u.v7_relativeSplatPath),m,o==="path"),T=JSON.stringify(E);return J.useEffect(()=>_(JSON.parse(T),{replace:n,state:s,relative:o}),[_,T,o,n,s]),null}function qs(r){gt(!1)}function Zw(r){let{basename:e="/",children:n=null,location:s,navigationType:o=Lr.Pop,navigator:u,static:f=!1,future:p}=r;go()&&gt(!1);let m=e.replace(/^\/*/,"/"),_=J.useMemo(()=>({basename:m,navigator:u,static:f,future:Ql({v7_relativeSplatPath:!1},p)}),[m,p,u,f]);typeof s=="string"&&(s=mo(s));let{pathname:E="/",search:T="",hash:b="",state:N=null,key:H="default"}=s,Y=J.useMemo(()=>{let B=rm(E,m);return B==null?null:{location:{pathname:B,search:T,hash:b,state:N,key:H},navigationType:o}},[m,E,T,b,N,H,o]);return Y==null?null:J.createElement(es.Provider,{value:_},J.createElement(Ch.Provider,{children:n,value:Y}))}function Jw(r){let{children:e,location:n}=r;return kw(wp(e),n)}new Promise(()=>{});function wp(r,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(r,(s,o)=>{if(!J.isValidElement(s))return;let u=[...e,o];if(s.type===J.Fragment){n.push.apply(n,wp(s.props.children,u));return}s.type!==qs&&gt(!1),!s.props.index||!s.props.children||gt(!1);let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wp(s.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Rp.apply(this,arguments)}function eR(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function tR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nR(r,e){return r.button===0&&(!e||e==="_self")&&!tR(r)}const iR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rR="6";try{window.__reactRouterVersion=rR}catch{}const sR="startTransition",xv=tw[sR];function aR(r){let{basename:e,children:n,future:s,window:o}=r,u=J.useRef();u.current==null&&(u.current=lw({window:o,v5Compat:!0}));let f=u.current,[p,m]=J.useState({action:f.action,location:f.location}),{v7_startTransition:_}=s||{},E=J.useCallback(T=>{_&&xv?xv(()=>m(T)):m(T)},[m,_]);return J.useLayoutEffect(()=>f.listen(E),[f,E]),J.useEffect(()=>$w(s),[s]),J.createElement(Zw,{basename:e,children:n,location:p.location,navigationType:p.action,navigator:f,future:s})}const oR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ao=J.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:u,replace:f,state:p,target:m,to:_,preventScrollReset:E,viewTransition:T}=e,b=eR(e,iR),{basename:N}=J.useContext(es),H,Y=!1;if(typeof _=="string"&&lR.test(_)&&(H=_,oR))try{let ne=new URL(window.location.href),he=_.startsWith("//")?new URL(ne.protocol+_):new URL(_),fe=rm(he.pathname,N);he.origin===ne.origin&&fe!=null?_=fe+he.search+he.hash:Y=!0}catch{}let B=Vw(_,{relative:o}),te=uR(_,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:T});function ae(ne){s&&s(ne),ne.defaultPrevented||te(ne)}return J.createElement("a",Rp({},b,{href:H||B,onClick:Y||u?s:ae,ref:n,target:m}))});var Pv;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Pv||(Pv={}));var Vv;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Vv||(Vv={}));function uR(r,e){let{target:n,replace:s,state:o,preventScrollReset:u,relative:f,viewTransition:p}=e===void 0?{}:e,m=ou(),_=au(),E=bT(r,{relative:f});return J.useCallback(T=>{if(nR(T,n)){T.preventDefault();let b=s!==void 0?s:oh(_)===oh(E);m(r,{replace:b,state:o,preventScrollReset:u,relative:f,viewTransition:p})}},[_,m,E,s,o,n,r,u,f,p])}const cR=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},DT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,_=m?r[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let b=(p&15)<<2|_>>6,N=_&63;m||(N=64,f||(b=64)),s.push(n[E],n[T],n[b],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(CT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||_==null||T==null)throw new fR;const b=u<<2|p>>4;if(s.push(b),_!==64){const N=p<<4&240|_>>2;if(s.push(N),T!==64){const H=_<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(r){const e=CT(r);return DT.encodeByteArray(e,!0)},lh=function(r){return dR(r).replace(/\./g,"")},OT=function(r){try{return DT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>pR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof Uv>"u")return;const r=Uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_R=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&OT(r[1]);return e&&JSON.parse(e)},Dh=()=>{try{return cR()||mR()||gR()||_R()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},NT=r=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},MT=r=>{const e=NT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xT=()=>{var r;return(r=Dh())===null||r===void 0?void 0:r.config},PT=r=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function ER(){var r;const e=(r=Dh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wR(){return!ER()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class vi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CR,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?DR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new vi(o,p,s)}}function DR(r,e){return r.replace(OR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const OR=/\{\$([^}]+)}/g;function NR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(kv(u)&&kv(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function kv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function MR(r,e){const n=new xR(r,e);return n.subscribe.bind(n)}class xR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(r){return r===Hs?void 0:r}function kR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const jR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},BR=xe.INFO,zR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},qR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=zR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lm{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=qR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const HR=(r,e)=>e.some(n=>r instanceof n);let Lv,jv;function FR(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GR(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UT=new WeakMap,Ip=new WeakMap,kT=new WeakMap,hp=new WeakMap,um=new WeakMap;function KR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&UT.set(n,r)}).catch(()=>{}),um.set(e,r),e}function QR(r){if(Ip.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Ip.set(r,e)}let Cp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Ip.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YR(r){Cp=r(Cp)}function XR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(fp(this),e,...n);return kT.set(s,e.sort?e.sort():[e]),zr(s)}:GR().includes(r)?function(...e){return r.apply(fp(this),e),zr(UT.get(this))}:function(...e){return zr(r.apply(fp(this),e))}}function $R(r){return typeof r=="function"?XR(r):(r instanceof IDBTransaction&&QR(r),HR(r,FR())?new Proxy(r,Cp):r)}function zr(r){if(r instanceof IDBRequest)return KR(r);if(hp.has(r))return hp.get(r);const e=$R(r);return e!==r&&(hp.set(r,e),um.set(e,r)),e}const fp=r=>um.get(r);function WR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=zr(f);return s&&f.addEventListener("upgradeneeded",m=>{s(zr(f.result),m.oldVersion,m.newVersion,zr(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ZR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],dp=new Map;function Bv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=JR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZR.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let _=m.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),o&&m.done]))[0]};return dp.set(e,u),u}YR(r=>({...r,get:(e,n,s)=>Bv(e,n)||r.get(e,n,s),has:(e,n)=>!!Bv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",zv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new lm("@firebase/app"),nI="@firebase/app-compat",iI="@firebase/analytics-compat",rI="@firebase/analytics",sI="@firebase/app-check-compat",aI="@firebase/app-check",oI="@firebase/auth",lI="@firebase/auth-compat",uI="@firebase/database",cI="@firebase/data-connect",hI="@firebase/database-compat",fI="@firebase/functions",dI="@firebase/functions-compat",pI="@firebase/installations",mI="@firebase/installations-compat",gI="@firebase/messaging",_I="@firebase/messaging-compat",yI="@firebase/performance",vI="@firebase/performance-compat",EI="@firebase/remote-config",TI="@firebase/remote-config-compat",AI="@firebase/storage",SI="@firebase/storage-compat",bI="@firebase/firestore",wI="@firebase/vertexai",RI="@firebase/firestore-compat",II="firebase",CI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",DI={[Dp]:"fire-core",[nI]:"fire-core-compat",[rI]:"fire-analytics",[iI]:"fire-analytics-compat",[aI]:"fire-app-check",[sI]:"fire-app-check-compat",[oI]:"fire-auth",[lI]:"fire-auth-compat",[uI]:"fire-rtdb",[cI]:"fire-data-connect",[hI]:"fire-rtdb-compat",[fI]:"fire-fn",[dI]:"fire-fn-compat",[pI]:"fire-iid",[mI]:"fire-iid-compat",[gI]:"fire-fcm",[_I]:"fire-fcm-compat",[yI]:"fire-perf",[vI]:"fire-perf-compat",[EI]:"fire-rc",[TI]:"fire-rc-compat",[AI]:"fire-gcs",[SI]:"fire-gcs-compat",[bI]:"fire-fst",[RI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[II]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,OI=new Map,Np=new Map;function qv(r,e){try{r.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ys(r){const e=r.name;if(Np.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,r);for(const n of uh.values())qv(n,r);for(const n of OI.values())qv(n,r);return!0}function Oh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Tn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new lu("app","Firebase",NI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=CI;function LT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Op,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=xT()),!n)throw qr.create("no-options");const u=uh.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const f=new LR(o);for(const m of Np.values())f.addComponent(m);const p=new MI(n,s,f);return uh.set(o,p),p}function cm(r=Op){const e=uh.get(r);if(!e&&r===Op&&xT())return LT();if(!e)throw qr.create("no-app",{appName:r});return e}function di(r,e,n){var s;let o=(s=DI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(p.join(" "));return}Ys(new Kr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebase-heartbeat-database",PI=1,Yl="firebase-heartbeat-store";let pp=null;function jT(){return pp||(pp=WR(xI,PI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),pp}async function VI(r){try{const n=(await jT()).transaction(Yl),s=await n.objectStore(Yl).get(BT(r));return await n.done,s}catch(e){if(e instanceof vi)$i.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function Hv(r,e){try{const s=(await jT()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,BT(r)),await s.done}catch(n){if(n instanceof vi)$i.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(s.message)}}}function BT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1024,kI=30;class LI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kI){const f=zI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:s,unsentEntries:o}=jI(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return $i.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function jI(r,e=UI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function zI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){Ys(new Kr("platform-logger",e=>new eI(e),"PRIVATE")),Ys(new Kr("heartbeat",e=>new LI(e),"PRIVATE")),di(Dp,zv,r),di(Dp,zv,"esm2017"),di("fire-js","")}qI("");function hm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HI=zT,qT=new lu("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new lm("@firebase/auth");function FI(r,...e){ch.logLevel<=xe.WARN&&ch.warn(`Auth (${ea}): ${r}`,...e)}function Wc(r,...e){ch.logLevel<=xe.ERROR&&ch.error(`Auth (${ea}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...e){throw fm(r,...e)}function pi(r,...e){return fm(r,...e)}function HT(r,e,n){const s=Object.assign(Object.assign({},HI()),{[e]:n});return new lu("auth","Firebase",s).create(e,{appName:r.name})}function Xi(r){return HT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return qT.create(r,...e)}function ve(r,e,...n){if(!r)throw fm(e,...n)}function Ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wc(e),new Error(e)}function Wi(r,e){r||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function GI(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GI()||AR()||"connection"in navigator)?navigator.onLine:!0}function QI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=vR()||SR()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$I=new cu(3e4,6e4);function er(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function tr(r,e,n,s,o={}){return GT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=uu(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:m},u);return TR()||(_.referrerPolicy="no-referrer"),FT.fetch()(await KT(r,r.config.apiHost,n,p),_)})}async function GT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},YI),e);try{const o=new ZI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,_]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw HT(r,E,_);Kn(r,E)}}catch(o){if(o instanceof vi)throw o;Kn(r,"network-request-failed",{message:String(o)})}}async function hu(r,e,n,s,o={}){const u=await tr(r,e,n,s,o);return"mfaPendingCredential"in u&&Kn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function KT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?dm(r.config,o):`${r.config.apiScheme}://${o}`;return XI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function WI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),$I.get())})}}function Hc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}function Qv(r){return r!==void 0&&r.enterprise!==void 0}class JI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e1(r,e){return tr(r,"GET","/v2/recaptchaConfig",er(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(r,e){return tr(r,"POST","/v1/accounts:delete",e)}async function hh(r,e){return tr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n1(r,e=!1){const n=rt(r),s=await n.getIdToken(e),o=pm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(mp(o.auth_time)),issuedAtTime:Bl(mp(o.iat)),expirationTime:Bl(mp(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mp(r){return Number(r)*1e3}function pm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=OT(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Yv(r){const e=pm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vi&&i1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function i1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Xl(r,hh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?QT(u.providerUserInfo):[],p=a1(r.providerData,f),m=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?_:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new xp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function s1(r){const e=rt(r);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QT(r){return r.map(e=>{var{providerId:n}=e,s=hm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(r,e){const n=await GT(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await KT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",FT.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l1(r,e){return tr(r,"POST","/v2/accounts:revokeToken",er(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await o1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new xp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n1(this,e)}reload(){return s1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Xl(this,t1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,_,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(p=n.tenantId)!==null&&p!==void 0?p:void 0,B=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,te=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ae=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:he,isAnonymous:fe,providerData:we,stsTokenManager:x}=n;ve(ne&&x,e,"internal-error");const w=no.fromJSON(this.name,x);ve(typeof ne=="string",e,"internal-error"),Mr(T,e.name),Mr(b,e.name),ve(typeof he=="boolean",e,"internal-error"),ve(typeof fe=="boolean",e,"internal-error"),Mr(N,e.name),Mr(H,e.name),Mr(Y,e.name),Mr(B,e.name),Mr(te,e.name),Mr(ae,e.name);const I=new Gn({uid:ne,auth:e,email:b,emailVerified:he,displayName:T,isAnonymous:fe,photoURL:H,phoneNumber:N,tenantId:Y,stsTokenManager:w,createdAt:te,lastLoginAt:ae});return we&&Array.isArray(we)&&(I.providerData=we.map(M=>Object.assign({},M))),B&&(I._redirectEventId=B),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new no;p.updateFromIdToken(s);const m=new Gn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,_),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;function Qi(r){Wi(r instanceof Function,"Expected a class definition");let e=Xv.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Xv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YT.type="NONE";const $v=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Qi($v),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Qi($v);const f=Zc(s,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const E=await _._get(f);if(E){let T;if(typeof E=="string"){const b=await hh(e,{idToken:E}).catch(()=>{});if(!b)break;T=await Gn._fromGetAccountInfoResponse(e,b,E)}else T=Gn._fromJSON(e,E);_!==u&&(p=T),u=_;break}}catch{}const m=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new io(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e0(e))return"Blackberry";if(t0(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function XT(r=Jt()){return/firefox\//i.test(r)}function $T(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(r=Jt()){return/crios\//i.test(r)}function ZT(r=Jt()){return/iemobile/i.test(r)}function JT(r=Jt()){return/android/i.test(r)}function e0(r=Jt()){return/blackberry/i.test(r)}function t0(r=Jt()){return/webos/i.test(r)}function mm(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function u1(r=Jt()){var e;return mm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c1(){return bR()&&document.documentMode===10}function n0(r=Jt()){return mm(r)||JT(r)||t0(r)||e0(r)||/windows phone/i.test(r)||ZT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r,e=[]){let n;switch(r){case"Browser":n=Wv(Jt());break;case"Worker":n=`${Wv(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,e={}){return tr(r,"GET","/v2/passwordPolicy",er(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=6;class p1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:d1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new h1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Xi(this));const n=e?rt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f1(this),n=new p1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await l1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(r){return rt(r)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=MR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g1(r){Nh=r}function r0(r){return Nh.loadJS(r)}function _1(){return Nh.recaptchaEnterpriseScript}function y1(){return Nh.gapiScript}function v1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class E1{constructor(){this.enterprise=new T1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class T1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const A1="recaptcha-enterprise",s0="NO_RECAPTCHA";class S1{constructor(e){this.type=A1,this.auth=ns(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{e1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new JI(m);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;Qv(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(s0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&Qv(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=_1();m.length!==0&&(m+=p),r0(m).then(()=>{o(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function Jv(r,e,n,s=!1,o=!1){const u=new S1(r);let f;if(o)f=s0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dh(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Jv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Jv(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r,e){const n=Oh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function w1(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function R1(r,e,n){const s=ns(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=a0(e),{host:f,port:p}=I1(e),m=p===null?"":`:${p}`,_={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Qs(_,s.config.emulator)&&Qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,C1()}function a0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function I1(r){const e=a0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:eE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:eE(f)}}}function eE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function C1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function D1(r,e){return tr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(r,e){return hu(r,"POST","/v1/accounts:signInWithPassword",er(r,e))}async function N1(r,e){return tr(r,"POST","/v1/accounts:sendOobCode",er(r,e))}async function M1(r,e){return N1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,e){return hu(r,"POST","/v1/accounts:signInWithEmailLink",er(r,e))}async function P1(r,e){return hu(r,"POST","/v1/accounts:signInWithEmailLink",er(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends gm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $l(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",O1);case"emailLink":return x1(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",D1);case"emailLink":return P1(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,e){return hu(r,"POST","/v1/accounts:signInWithIdp",er(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="http://localhost";class Xs extends gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=hm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:V1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k1(r){const e=Pl(Vl(r)).link,n=e?Pl(Vl(e)).deep_link_id:null,s=Pl(Vl(r)).deep_link_id;return(s?Pl(Vl(s)).link:null)||s||n||e||r}class _m{constructor(e){var n,s,o,u,f,p;const m=Pl(Vl(e)),_=(n=m.apiKey)!==null&&n!==void 0?n:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,T=U1((o=m.mode)!==null&&o!==void 0?o:null);ve(_&&E&&T,"argument-error"),this.apiKey=_,this.operation=T,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=k1(e);try{return new _m(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_m.parseLink(n);return ve(s,"argument-error"),$l._fromEmailAndCode(e,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends fu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends fu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends fu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,e){return hu(r,"POST","/v1/accounts:signUp",er(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),f=tE(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=tE(s);return new $s({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function tE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends vi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ph(e,n,s,o)}}function l0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,e,s):u})}async function j1(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(r,e,n=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(Xi(s));const o="reauthenticate";try{const u=await Xl(r,l0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=pm(u.idToken);ve(f,s,"internal-error");const{sub:p}=f;return ve(r.uid===p,s,"user-mismatch"),$s._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(r,e,n=!1){if(Tn(r.app))return Promise.reject(Xi(r));const s="signIn",o=await l0(r,s,e),u=await $s._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function z1(r,e){return u0(ns(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(r){const e=ns(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q1(r,e,n){const s=ns(r);await dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",M1)}async function H1(r,e,n){if(Tn(r.app))return Promise.reject(Xi(r));const s=ns(r),f=await dh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L1).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&c0(r),m}),p=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function F1(r,e,n){return Tn(r.app)?Promise.reject(Xi(r)):z1(rt(r),_o.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&c0(r),s})}function G1(r,e,n,s){return rt(r).onIdTokenChanged(e,n,s)}function K1(r,e,n){return rt(r).beforeAuthStateChanged(e,n)}function Q1(r,e,n,s){return rt(r).onAuthStateChanged(e,n,s)}function Y1(r){return rt(r).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1e3,$1=10;class f0 extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);c1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f0.type="LOCAL";const W1=f0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d0.type="SESSION";const p0=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async _=>_(n.origin,u)),m=await Z1(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const _=ym("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===_)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function eC(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function tC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function iC(){return m0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firebaseLocalStorageDb",rC=1,gh="firebaseLocalStorage",_0="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(r,e){return r.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function sC(){const r=indexedDB.deleteDatabase(g0);return new du(r).toPromise()}function Pp(){const r=indexedDB.open(g0,rC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:_0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await sC(),e(await Pp()))})})}async function nE(r,e,n){const s=xh(r,!0).put({[_0]:e,value:n});return new du(s).toPromise()}async function aC(r,e){const n=xh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function iE(r,e){const n=xh(r,!0).delete(e);return new du(n).toPromise()}const oC=800,lC=3;class y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(iC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tC(),!this.activeServiceWorker)return;this.sender=new J1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await nE(e,mh,"1"),await iE(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>aC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y0.type="LOCAL";const uC=y0;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,e){return e?Qi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends gm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hC(r){return u0(r.auth,new vm(r),r.bypassAuthState)}function fC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),B1(n,new vm(r),r.bypassAuthState)}async function dC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),j1(n,new vm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Kn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new cu(2e3,1e4);class eo extends v0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="pendingRedirect",Jc=new Map;class gC extends v0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await _C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(r,e){const n=EC(e),s=vC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function yC(r,e){Jc.set(r._key(),e)}function vC(r){return Qi(r._redirectPersistence)}function EC(r){return Zc(mC,r.config.apiKey,r.name)}async function TC(r,e,n=!1){if(Tn(r.app))return Promise.reject(Xi(r));const s=ns(r),o=cC(s,e),f=await new gC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*60*1e3;class SC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!E0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function E0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e={}){return tr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function CC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await wC(r);for(const n of e)try{if(DC(n))return}catch{}Kn(r,"unauthorized-domain")}function DC(r){const e=Mp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!IC.test(n))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new cu(3e4,6e4);function sE(){const r=mi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function NC(r){return new Promise((e,n)=>{var s,o,u;function f(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(pi(r,"network-request-failed"))},timeout:OC.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const p=v1("iframefcb");return mi()[p]=()=>{gapi.load?f():n(pi(r,"network-request-failed"))},r0(`${y1()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw eh=null,e})}let eh=null;function MC(r){return eh=eh||NC(r),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new cu(5e3,15e3),PC="__/auth/iframe",VC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?dm(e,VC):`https://${r.config.authDomain}/${PC}`,s={apiKey:e.apiKey,appName:r.name,v:ea},o=kC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function jC(r){const e=await MC(r),n=mi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:LC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),p=mi().setTimeout(()=>{u(f)},xC.get());function m(){mi().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,qC=600,HC="_blank",FC="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(r,e,n,s=zC,o=qC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},BC),{width:s.toString(),height:o.toString(),top:u,left:f}),_=Jt().toLowerCase();n&&(p=WT(_)?HC:n),XT(_)&&(e=e||FC,m.scrollbars="yes");const E=Object.entries(m).reduce((b,[N,H])=>`${b}${N}=${H},`,"");if(u1(_)&&p!=="_self")return KC(e||"",p),new aE(null);const T=window.open(e||"",p,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new aE(T)}function KC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="__/auth/handler",YC="emulator/auth/handler",XC=encodeURIComponent("fac");async function oE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ea,eventId:o};if(e instanceof o0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",NR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof fu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),_=m?`#${XC}=${encodeURIComponent(m)}`:"";return`${$C(r)}?${uu(p).slice(1)}${_}`}function $C({config:r}){return r.emulator?dm(r,YC):`https://${r.authDomain}/${QC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="webStorageSupport";class WC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=TC,this._overrideRedirectResult=yC}async _openPopup(e,n,s,o){var u;Wi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await oE(e,n,s,Mp(),o);return GC(e,f,ym())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await oE(e,n,s,Mp(),o);return eC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jC(e),s=new SC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gp,{type:gp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[gp];f!==void 0&&n(!!f),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n0()||$T()||mm()}}const ZC=WC;var lE="@firebase/auth",uE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tD(r){Ys(new Kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i0(r)},_=new m1(s,o,u,m);return w1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ys(new Kr("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(s=>new JC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(lE,uE,eD(r)),di(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=5*60,iD=PT("authIdTokenMaxAge")||nD;let cE=null;const rD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iD)return;const o=n==null?void 0:n.token;cE!==o&&(cE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function T0(r=cm()){const e=Oh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=b1(r,{popupRedirectResolver:ZC,persistence:[uC,W1,p0]}),s=PT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rD(u.toString());K1(n,f,()=>f(n.currentUser)),G1(n,p=>f(p))}}const o=NT("auth");return o&&R1(n,`http://${o}`),n}function sD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}g1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",sD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tD("Browser");var aD="firebase",oD="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(aD,oD,"app");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,A0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function I(){}I.prototype=w.prototype,x.D=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(M,P,U){for(var C=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)C[kt-2]=arguments[kt];return w.prototype[P].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);var M=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)M[P]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(P=0;16>P;++P)M[P]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],P=x.g[2];var U=x.g[3],C=w+(U^I&(P^U))+M[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=U+(P^w&(I^P))+M[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(I^U&(w^I))+M[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=I+(w^P&(U^w))+M[3]+3250441966&4294967295,I=P+(C<<22&4294967295|C>>>10),C=w+(U^I&(P^U))+M[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(P^w&(I^P))+M[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(I^U&(w^I))+M[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=I+(w^P&(U^w))+M[7]+4249261313&4294967295,I=P+(C<<22&4294967295|C>>>10),C=w+(U^I&(P^U))+M[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(P^w&(I^P))+M[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(I^U&(w^I))+M[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=I+(w^P&(U^w))+M[11]+2304563134&4294967295,I=P+(C<<22&4294967295|C>>>10),C=w+(U^I&(P^U))+M[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=U+(P^w&(I^P))+M[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=P+(I^U&(w^I))+M[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=I+(w^P&(U^w))+M[15]+1236535329&4294967295,I=P+(C<<22&4294967295|C>>>10),C=w+(P^U&(I^P))+M[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^P&(w^I))+M[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^I&(U^w))+M[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(P^U))+M[0]+3921069994&4294967295,I=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(I^P))+M[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^P&(w^I))+M[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^I&(U^w))+M[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(P^U))+M[4]+3889429448&4294967295,I=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(I^P))+M[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^P&(w^I))+M[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^I&(U^w))+M[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(P^U))+M[8]+1163531501&4294967295,I=P+(C<<20&4294967295|C>>>12),C=w+(P^U&(I^P))+M[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=U+(I^P&(w^I))+M[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=P+(w^I&(U^w))+M[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=I+(U^w&(P^U))+M[12]+2368359562&4294967295,I=P+(C<<20&4294967295|C>>>12),C=w+(I^P^U)+M[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^P)+M[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^I)+M[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=I+(P^U^w)+M[14]+4259657740&4294967295,I=P+(C<<23&4294967295|C>>>9),C=w+(I^P^U)+M[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^P)+M[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^I)+M[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=I+(P^U^w)+M[10]+3200236656&4294967295,I=P+(C<<23&4294967295|C>>>9),C=w+(I^P^U)+M[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^P)+M[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^I)+M[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=I+(P^U^w)+M[6]+76029189&4294967295,I=P+(C<<23&4294967295|C>>>9),C=w+(I^P^U)+M[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=U+(w^I^P)+M[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=P+(U^w^I)+M[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=I+(P^U^w)+M[2]+3299628645&4294967295,I=P+(C<<23&4294967295|C>>>9),C=w+(P^(I|~U))+M[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~P))+M[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~I))+M[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=I+(U^(P|~w))+M[5]+4237533241&4294967295,I=P+(C<<21&4294967295|C>>>11),C=w+(P^(I|~U))+M[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~P))+M[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~I))+M[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=I+(U^(P|~w))+M[1]+2240044497&4294967295,I=P+(C<<21&4294967295|C>>>11),C=w+(P^(I|~U))+M[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~P))+M[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~I))+M[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=I+(U^(P|~w))+M[13]+1309151649&4294967295,I=P+(C<<21&4294967295|C>>>11),C=w+(P^(I|~U))+M[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=U+(I^(w|~P))+M[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=P+(w^(U|~I))+M[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=I+(U^(P|~w))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var I=w-this.blockSize,M=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=I;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<w;)if(M[P++]=x.charCodeAt(U++),P==this.blockSize){o(this,M),P=0;break}}else for(;U<w;)if(M[P++]=x[U++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var I=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=I&255,I/=256;for(this.u(x),x=Array(16),w=I=0;4>w;++w)for(var M=0;32>M;M+=8)x[I++]=this.g[w]>>>M&255;return x};function u(x,w){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function f(x,w){this.h=w;for(var I=[],M=!0,P=x.length-1;0<=P;P--){var U=x[P]|0;M&&U==w||(I[P]=U,M=!1)}this.g=I}var p={};function m(x){return-128<=x&&128>x?u(x,function(w){return new f([w|0],0>w?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return B(_(-x));for(var w=[],I=1,M=0;x>=I;M++)w[M]=x/I|0,I*=4294967296;return new f(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return B(E(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(w,8)),M=T,P=0;P<x.length;P+=8){var U=Math.min(8,x.length-P),C=parseInt(x.substring(P,P+U),w);8>U?(U=_(Math.pow(w,U)),M=M.j(U).add(_(C))):(M=M.j(I),M=M.add(_(C)))}return M}var T=m(0),b=m(1),N=m(16777216);r=f.prototype,r.m=function(){if(Y(this))return-B(this).m();for(var x=0,w=1,I=0;I<this.g.length;I++){var M=this.i(I);x+=(0<=M?M:4294967296+M)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(H(this))return"0";if(Y(this))return"-"+B(this).toString(x);for(var w=_(Math.pow(x,6)),I=this,M="";;){var P=he(I,w).g;I=te(I,P.j(w));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=P,H(I))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function H(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=te(this,x),Y(x)?-1:H(x)?0:1};function B(x){for(var w=x.g.length,I=[],M=0;M<w;M++)I[M]=~x.g[M];return new f(I,~x.h).add(b)}r.abs=function(){return Y(this)?B(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0,P=0;P<=w;P++){var U=M+(this.i(P)&65535)+(x.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);M=C>>>16,U&=65535,C&=65535,I[P]=C<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function te(x,w){return x.add(B(w))}r.j=function(x){if(H(this)||H(x))return T;if(Y(this))return Y(x)?B(this).j(B(x)):B(B(this).j(x));if(Y(x))return B(this.j(B(x)));if(0>this.l(N)&&0>x.l(N))return _(this.m()*x.m());for(var w=this.g.length+x.g.length,I=[],M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<x.g.length;P++){var U=this.i(M)>>>16,C=this.i(M)&65535,kt=x.i(P)>>>16,at=x.i(P)&65535;I[2*M+2*P]+=C*at,ae(I,2*M+2*P),I[2*M+2*P+1]+=U*at,ae(I,2*M+2*P+1),I[2*M+2*P+1]+=C*kt,ae(I,2*M+2*P+1),I[2*M+2*P+2]+=U*kt,ae(I,2*M+2*P+2)}for(M=0;M<w;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=w;M<2*w;M++)I[M]=0;return new f(I,0)};function ae(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ne(x,w){this.g=x,this.h=w}function he(x,w){if(H(w))throw Error("division by zero");if(H(x))return new ne(T,T);if(Y(x))return w=he(B(x),w),new ne(B(w.g),B(w.h));if(Y(w))return w=he(x,B(w)),new ne(B(w.g),w.h);if(30<x.g.length){if(Y(x)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=w;0>=M.l(x);)I=fe(I),M=fe(M);var P=we(I,1),U=we(M,1);for(M=we(M,2),I=we(I,2);!H(M);){var C=U.add(M);0>=C.l(x)&&(P=P.add(I),U=C),M=we(M,1),I=we(I,1)}return w=te(x,P.j(w)),new ne(P,w)}for(P=T;0<=x.l(w);){for(I=Math.max(1,Math.floor(x.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=_(I),C=U.j(w);Y(C)||0<C.l(x);)I-=M,U=_(I),C=U.j(w);H(U)&&(U=b),P=P.add(U),x=te(x,C)}return new ne(P,x)}r.A=function(x){return he(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)&x.i(M);return new f(I,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)|x.i(M);return new f(I,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)^x.i(M);return new f(I,this.h^x.h)};function fe(x){for(var w=x.g.length+1,I=[],M=0;M<w;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(I,x.h)}function we(x,w){var I=w>>5;w%=32;for(var M=x.g.length-I,P=[],U=0;U<M;U++)P[U]=0<w?x.i(U+I)>>>w|x.i(U+I+1)<<32-w:x.i(U+I);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,A0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Hr=f}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S0,Ul,b0,th,Vp,w0,R0,I0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var y=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in y))break e;y=y[k]}c=c[c.length-1],S=y[c],g=g(S),g!=S&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var y=0,S=!1,k={next:function(){if(!S&&y<c.length){var G=y++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,y){return c.call.apply(c.bind,arguments)}function T(c,g,y){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),c.apply(g,k)}}return function(){return c.apply(g,arguments)}}function b(c,g,y){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function N(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function H(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(S,k,G){for(var re=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)re[Ve-2]=arguments[Ve];return g.prototype[k].apply(S,re)}}function Y(c){const g=c.length;if(0<g){const y=Array(g);for(let S=0;S<g;S++)y[S]=c[S];return y}return[]}function B(c,g){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(m(S)){const k=c.length||0,G=S.length||0;c.length=k+G;for(let re=0;re<G;re++)c[k+re]=S[re]}else c.push(S)}}class te{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ae(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var fe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function we(c,g,y){for(const S in c)g.call(y,c[S],S,c)}function x(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function w(c){const g={};for(const y in c)g[y]=c[y];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let y,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(y in S)c[y]=S[y];for(let G=0;G<I.length;G++)y=I[G],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function P(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function U(c){p.setTimeout(()=>{throw c},0)}function C(){var c=Be;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class kt{constructor(){this.h=this.g=null}add(g,y){const S=at.get();S.set(g,y),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new te(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let se,pe=!1,Be=new kt,D=()=>{const c=p.Promise.resolve(void 0);se=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(y){U(y)}var g=at;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};p.addEventListener("test",y,g),p.removeEventListener("test",y,g)}catch{}return c}();function De(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(fe){e:{try{he(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}H(De,ie);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Yn(c,g,y,S,k){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!S,this.ha=k,this.key=++Ze,this.da=this.fa=!1}function ir(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,g,y,S,k){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var re=as(c,g,S,k);return-1<re?(g=c[re],y||(g.fa=!1)):(g=new Yn(g,this.src,G,!!S,k),g.fa=y,c.push(g)),g};function ss(c,g){var y=g.type;if(y in c.g){var S=c.g[y],k=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=k)&&Array.prototype.splice.call(S,k,1),G&&(ir(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function as(c,g,y,S){for(var k=0;k<c.length;++k){var G=c[k];if(!G.da&&G.listener==g&&G.capture==!!y&&G.ha==S)return k}return-1}var os="closure_lm_"+(1e6*Math.random()|0),So={};function vu(c,g,y,S,k){if(Array.isArray(g)){for(var G=0;G<g.length;G++)vu(c,g[G],y,S,k);return null}return y=Eu(y),c&&c[Ot]?c.K(g,y,_(S)?!!S.capture:!1,k):bn(c,g,y,!1,S,k)}function bn(c,g,y,S,k,G){if(!g)throw Error("Invalid event type");var re=_(k)?!!k.capture:!!k,Ve=sa(c);if(Ve||(c[os]=Ve=new Ei(c)),y=Ve.add(g,y,S,re,G),y.proxy)return y;if(S=nf(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)ge||(k=re),k===void 0&&(k=!1),c.addEventListener(g.toString(),S,k);else if(c.attachEvent)c.attachEvent(ls(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function nf(){function c(y){return g.call(c.src,c.listener,y)}const g=rf;return c}function bo(c,g,y,S,k){if(Array.isArray(g))for(var G=0;G<g.length;G++)bo(c,g[G],y,S,k);else S=_(S)?!!S.capture:!!S,y=Eu(y),c&&c[Ot]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],y=as(G,y,S,k),-1<y&&(ir(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=sa(c))&&(g=c.g[g.toString()],c=-1,g&&(c=as(g,y,S,k)),(y=-1<c?g[c]:null)&&ra(y))}function ra(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ot])ss(g.i,c);else{var y=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(y,S,c.capture):g.detachEvent?g.detachEvent(ls(y),S):g.addListener&&g.removeListener&&g.removeListener(S),(y=sa(g))?(ss(y,c),y.h==0&&(y.src=null,g[os]=null)):ir(c)}}}function ls(c){return c in So?So[c]:So[c]="on"+c}function rf(c,g){if(c.da)c=!0;else{g=new De(g,this);var y=c.listener,S=c.ha||c.src;c.fa&&ra(c),c=y.call(S,g)}return c}function sa(c){return c=c[os],c instanceof Ei?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(g){return c.handleEvent(g)}),c[wo])}function ot(){oe.call(this),this.i=new Ei(this),this.M=this,this.F=null}H(ot,oe),ot.prototype[Ot]=!0,ot.prototype.removeEventListener=function(c,g,y,S){bo(this,c,g,y,S)};function Fe(c,g){var y,S=c.F;if(S)for(y=[];S;S=S.F)y.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var k=g;g=new ie(S,c),M(g,k)}if(k=!0,y)for(var G=y.length-1;0<=G;G--){var re=g.g=y[G];k=hn(re,S,!0,g)&&k}if(re=g.g=c,k=hn(re,S,!0,g)&&k,k=hn(re,S,!1,g)&&k,y)for(G=0;G<y.length;G++)re=g.g=y[G],k=hn(re,S,!1,g)&&k}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],S=0;S<y.length;S++)ir(y[S]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,y,S){return this.i.add(String(c),g,!1,y,S)},ot.prototype.L=function(c,g,y,S){return this.i.add(String(c),g,!0,y,S)};function hn(c,g,y,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,G=0;G<g.length;++G){var re=g[G];if(re&&!re.da&&re.capture==y){var Ve=re.listener,bt=re.ha||re.src;re.fa&&ss(c.i,re),k=Ve.call(bt,S)!==!1&&k}}return k&&!S.defaultPrevented}function Kt(c,g,y){if(typeof c=="function")y&&(c=b(c,y));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function Tu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class sf extends oe{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){oe.call(this),this.h=c,this.g={}}H(us,oe);var cs=[];function hs(c){we(c.g,function(g,y){this.g.hasOwnProperty(y)&&ra(g)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=p.JSON.stringify,aa=p.JSON.parse,fs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function Io(c){return c.h||(c.h=c.i())}function Co(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ie.call(this,"d")}H(Ai,ie);function Do(){ie.call(this,"c")}H(Do,ie);var Xn={},Oo=null;function rr(){return Oo=Oo||new ot}Xn.La="serverreachability";function oa(c){ie.call(this,Xn.La,c)}H(oa,ie);function sr(c){const g=rr();Fe(g,new oa(g))}Xn.STAT_EVENT="statevent";function Au(c,g){ie.call(this,Xn.STAT_EVENT,c),this.stat=g}H(Au,ie);function tt(c){const g=rr();Fe(g,new Au(g,c))}Xn.Ma="timingevent";function St(c,g){ie.call(this,Xn.Ma,c),this.size=g}H(St,ie);function _t(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function No(c,g,y,S,k,G){c.info(function(){if(c.g)if(G)for(var re="",Ve=G.split("&"),bt=0;bt<Ve.length;bt++){var Ue=Ve[bt].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var wt=Mt.split("_");re=2<=wt.length&&wt[1]=="type"?re+(Mt+"="+Ue+"&"):re+(Mt+"=redacted&")}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+g+`
`+y+`
`+re})}function af(c,g,y,S,k,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+g+`
`+y+`
`+G+" "+re})}function ar(c,g,y,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ds(c,y)+(S?" "+S:"")})}function Su(c,g){c.info(function(){return"TIMEOUT: "+g})}wn.prototype.info=function(){};function ds(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var S=y[c];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(var re=1;re<k.length;re++)k[re]=""}}}}return jn(y)}catch{return g}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Wn(){}H(Wn,Ro),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},$n=new Wn;function en(c,g,y,S){this.j=c,this.i=g,this.l=y,this.R=S||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Mo={},la={};function Bn(c,g,y){c.L=1,c.v=ys(fn(g)),c.m=y,c.P=!0,bi(c,null)}function bi(c,g){c.F=Date.now(),ps(c),c.A=fn(c.v);var y=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Lo(y.i,"t",S),c.C=0,y=c.j.J,c.h=new ft,c.g=ju(c.j,y?g:null,!c.m),0<c.O&&(c.M=new sf(b(c.Y,c,c.g),c.O)),g=c.U,y=c.g,S=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(cs[0]=k.toString()),k=cs);for(var G=0;G<k.length;G++){var re=vu(y,k[G],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),sr(),No(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const g=this.M;g&&Dn(c)==3?g.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Dn(this.g);var g=this.g.Ba();const Mi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||wt!=4||g==7||(g==8||0>=Mi?sr(3):sr(2)),lr(this);var y=this.g.Z();this.X=y;t:if(bu(this)){var S=Nu(this.g);c="";var k=S.length,G=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Zn(this);var re="";break t}this.h.i=new p.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==k-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,af(this.i,this.u,this.A,this.l,this.R,wt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,bt=this.g;if((Ve=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Ve)){var Ue=Ve;break t}}Ue=null}if(y=Ue)ar(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,y);else{this.o=!1,this.s=3,tt(12),Lt(this),Zn(this);break e}}if(this.P){y=!0;let jt;for(;!this.J&&this.C<re.length;)if(jt=wu(this,re),jt==la){wt==4&&(this.s=4,tt(14),y=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Mo){this.s=4,tt(15),ar(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else ar(this.i,this.l,jt,null),ms(this,jt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||re.length!=0||this.h.h||(this.s=1,tt(16),y=!1),this.o=this.o&&y,!y)ar(this.i,this.l,re,"[Invalid Chunked Response]"),Lt(this),Zn(this);else if(0<re.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Rs(Mt),Mt.M=!0,tt(11))}}else ar(this.i,this.l,re,null),ms(this,re);wt==4&&Lt(this),this.o&&!this.J&&(wt==4?Uu(this.j,this):(this.o=!1,ps(this)))}else hf(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Lt(this),Zn(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wu(c,g){var y=c.C,S=g.indexOf(`
`,y);return S==-1?la:(y=Number(g.substring(y,S)),isNaN(y)?Mo:(S+=1,S+y>g.length?la:(g=g.slice(S,S+y),c.C=S+y,g)))}en.prototype.cancel=function(){this.J=!0,Lt(this)};function ps(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(b(c.ba,c),g)}function lr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(sr(),tt(17)),Lt(this),this.s=2,Zn(this)):Ru(this,this.S-c)};function Zn(c){c.j.G==0||c.J||Uu(c.j,c)}function Lt(c){lr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,hs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ms(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||xo(y.h,c))){if(!c.K&&xo(y.h,c)&&y.G==3){try{var S=y.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Ea(y),ya(y);else break e;Ho(y),tt(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=_t(b(y.Za,y),6e3));if(1>=ca(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ni(y,11)}else if((c.K||y.g==c)&&Ea(y),!ae(g))for(k=y.Da.g.parse(g),g=0;g<k.length;g++){let Ue=k[g];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(y.la=Mt,y.j.info("VER="+y.la));const wt=Ue[4];wt!=null&&(y.Aa=wt,y.j.info("SVER="+y.Aa));const Mi=Ue[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(S=1.5*Mi,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const jt=c.g;if(jt){const si=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var G=S.h;G.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ha(G,G.h),G.h=null))}if(S.D){const Go=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(S.ya=Go,Qe(S.I,S.D,Go))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var re=c;if(S.qa=Lu(S,S.J?S.ia:null,S.W),re.K){tn(S.h,re);var Ve=re,bt=S.L;bt&&(Ve.I=bt),Ve.B&&(lr(Ve),ps(Ve)),S.g=re}else Pu(S);0<y.i.length&&va(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Ni(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ni(y,7):zo(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}sr(4)}catch{}}var Iu=class{constructor(c,g){this.g=c,this.map=g}};function wi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function xo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ha(c,g){c.g?c.g.add(g):c.h=g}function tn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}wi.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return Y(c.i)}function of(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var g=[],y=c.length,S=0;S<y;S++)g.push(c[S]);return g}g=[],y=0;for(S in c)g[y++]=c[S];return g}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const S in c)g[y++]=S;return g}}}function Vo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=fa(c),S=of(c),k=S.length,G=0;G<k;G++)g.call(void 0,S[G],y&&y[G],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var S=c[y].indexOf("="),k=null;if(0<=S){var G=c[y].substring(0,S);k=c[y].substring(S+1)}else G=c[y];g(G,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,ur(this,c.s),this.l=c.l;var g=c.i,y=new Ii;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Ri(this,y),this.m=c.m}else c&&(g=String(c).match(gs))?(this.h=!1,_s(this,g[1]||"",!0),this.o=Rn(g[2]||""),this.g=Rn(g[3]||"",!0),ur(this,g[4]),this.l=Rn(g[5]||"",!0),Ri(this,g[6]||"",!0),this.m=Rn(g[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}yt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vs(g,Uo,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vs(g,Uo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(vs(y,y.charAt(0)=="/"?uf:ko,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",vs(y,da)),c.join("")};function fn(c){return new yt(c)}function _s(c,g,y){c.j=y?Rn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ur(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ri(c,g,y){g instanceof Ii?(c.i=g,Du(c.i,c.h)):(y||(g=vs(g,cf)),c.i=new Ii(g,c.h))}function Qe(c,g,y){c.i.set(g,y)}function ys(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,Cu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,ko=/[#\?:]/g,uf=/[#\?]/g,cf=/[#\?@]/g,da=/#/g;function Ii(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}r=Ii.prototype,r.add=function(c,g){In(this),this.i=null,c=Jn(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function Ci(c,g){In(c),g=Jn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Di(c,g){return In(c),g=Jn(c,g),c.g.has(g)}r.forEach=function(c,g){In(this),this.g.forEach(function(y,S){y.forEach(function(k){c.call(g,k,S,this)},this)},this)},r.na=function(){In(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let S=0;S<g.length;S++){const k=c[S];for(let G=0;G<k.length;G++)y.push(g[S])}return y},r.V=function(c){In(this);let g=[];if(typeof c=="string")Di(this,c)&&(g=g.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},r.set=function(c,g){return In(this),this.i=null,c=Jn(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Lo(c,g,y){Ci(c,g),0<y.length&&(c.i=null,c.g.set(Jn(c,g),Y(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var S=g[y];const G=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var k=G;re[S]!==""&&(k+="="+encodeURIComponent(String(re[S]))),c.push(k)}}return this.i=c.join("&")};function Jn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Du(c,g){g&&!c.j&&(In(c),c.i=null,c.g.forEach(function(y,S){var k=S.toLowerCase();S!=k&&(Ci(this,S),Lo(this,k,y))},c)),c.j=g}function Es(c,g){const y=new wn;if(p.Image){const S=new Image;S.onload=N(Cn,y,"TestLoadImage: loaded",!0,g,S),S.onerror=N(Cn,y,"TestLoadImage: error",!1,g,S),S.onabort=N(Cn,y,"TestLoadImage: abort",!1,g,S),S.ontimeout=N(Cn,y,"TestLoadImage: timeout",!1,g,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function zn(c,g){const y=new wn,S=new AbortController,k=setTimeout(()=>{S.abort(),Cn(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(k),G.ok?Cn(y,"TestPingServer: ok",!0,g):Cn(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Cn(y,"TestPingServer: error",!1,g)})}function Cn(c,g,y,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(y)}catch{}}function Ts(){this.g=new fs}function ei(c,g,y){const S=y||"";try{Vo(c,function(k,G){let re=k;_(k)&&(re=jn(k)),g.push(S+G+"="+encodeURIComponent(re))})}catch(k){throw g.push(S+"type="+encodeURIComponent("_badmap")),k}}function cr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(cr,Ro),cr.prototype.g=function(){return new Oi(this.l,this.j)},cr.prototype.i=function(c){return function(){return c}}({});function Oi(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Oi,ot),r=Oi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ti(this):ni(this),this.readyState==3&&jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Qa=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let g="";return we(c,function(y,S){g+=S,g+=":",g+=y,g+=`\r
`}),g}function Nt(c,g,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=Bo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Qe(c,g,y))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(qe,ot);var pa=/^https?$/i,As=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Io(this.o):Io($n),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ou(this,G);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)y.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())y.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),k=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(As,g,void 0))||S||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of y)this.g.setRequestHeader(G,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ou(this,G)}};function Ou(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ma(c),ii(c)}function ma(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},r.bb=function(){ga(this)};function ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var S;if(S=re===0){var k=String(c.D).match(gs)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),S=!pa.test(k?k.toLowerCase():"")}y=S}if(y)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var G=2<Dn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ma(c)}}finally{ii(c)}}}}function ii(c,g){if(c.g){Ss(c);const y=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{y.onreadystatechange=S}catch{}}}function Ss(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),aa(g)}};function Nu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(c){const g={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ae(c[S]))continue;var y=P(c[S]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=g[k]||[];g[k]=G,G.push(y)}x(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function _a(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_a.prototype,r.la=8,r.G=1,r.connect=function(c,g,y,S){tt(0),this.W=c,this.H=g||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=Lu(this,null,this.W),va(this)};function zo(c){if(Mu(c),c.G==3){var g=c.U++,y=fn(c.I);if(Qe(y,"SID",c.K),Qe(y,"RID",g),Qe(y,"TYPE","terminate"),ws(c,y),g=new en(c,c.j,g),g.L=2,g.v=ys(fn(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=g.v,y=!0),y||(g.g=ju(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ps(g)}ku(c)}function ya(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Mu(c){ya(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||D(),pe||(se(),pe=!0),Be.add(g,c),c.B=0}}function ff(c,g){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(b(c.Ga,c,g),Fo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new en(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),M(G,this.S)):G=this.S),this.m!==null||this.O||(k.H=G,G=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=xu(this,k,g),y=fn(this.I),Qe(y,"RID",c),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),ws(this,y),G&&(this.O?g="headers="+encodeURIComponent(String(Bo(G)))+"&"+g:this.m&&Nt(y,this.m,G)),ha(this.h,k),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",g),Qe(y,"SID","null"),k.T=!0,Bn(k,y,null)):Bn(k,y,g),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||ua(this.h)||qo(this))};function qo(c,g){var y;g?y=g.l:y=c.U++;const S=fn(c.I);Qe(S,"SID",c.K),Qe(S,"RID",y),Qe(S,"AID",c.T),ws(c,S),c.m&&c.o&&Nt(S,c.m,c.o),y=new en(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=xu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,y),Bn(y,S,g)}function ws(c,g){c.H&&we(c.H,function(y,S){Qe(g,S,y)}),c.l&&Vo({},function(y,S){Qe(g,S,y)})}function xu(c,g,y){y=Math.min(c.i.length,y);var S=c.l?b(c.l.Na,c.l,c):null;e:{var k=c.i;let G=-1;for(;;){const re=["count="+y];G==-1?0<y?(G=k[0].g,re.push("ofs="+G)):G=0:re.push("ofs="+G);let Ve=!0;for(let bt=0;bt<y;bt++){let Ue=k[bt].g;const Mt=k[bt].map;if(Ue-=G,0>Ue)G=Math.max(0,k[bt].g-100),Ve=!1;else try{ei(Mt,re,"req"+Ue+"_")}catch{S&&S(Mt)}}if(Ve){S=re.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,S}function Pu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||D(),pe||(se(),pe=!0),Be.add(g,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(b(c.Fa,c),Fo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ya(this),Vu(this))};function Rs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=fn(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),ws(c,g),c.m&&c.o&&Nt(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=ys(fn(g)),y.m=null,y.P=!0,bi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,ya(this),Ho(this),tt(19))};function Ea(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Uu(c,g){var y=null;if(c.g==g){Ea(c),Rs(c),c.g=null;var S=2}else if(xo(c.h,g))y=g.D,tn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var k=c.B;S=rr(),Fe(S,new St(S,y)),va(c)}else Pu(c);else if(k=g.s,k==3||k==0&&0<g.X||!(S==1&&ff(c,g)||S==2&&Ho(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),k){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Fo(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function Ni(c,g){if(c.j.info("Error code "+g),g==2){var y=b(c.fb,c),S=c.Xa;const k=!S;S=new yt(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||_s(S,"https"),ys(S),k?Es(S.toString(),y):zn(S.toString(),y)}else tt(2);c.G=0,c.l&&c.l.sa(g),ku(c),Mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const g=Po(c.h);(g.length!=0||c.i.length!=0)&&(B(c.ka,g),B(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Lu(c,g,y){var S=y instanceof yt?fn(y):new yt(y);if(S.g!="")g&&(S.g=g+"."+S.g),ur(S,S.s);else{var k=p.location;S=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var G=new yt(null);S&&_s(G,S),g&&(G.g=g),k&&ur(G,k),y&&(G.l=y),S=G}return y=c.D,g=c.ya,y&&g&&Qe(S,y,g),Qe(S,"VER",c.la),ws(c,S),S}function ju(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new cr({eb:y})):new qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ta(){}Ta.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){ot.call(this),this.g=new _a(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ae(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ae(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ri(this)}H(nn,ot),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zo(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=jn(c),c=y);g.i.push(new Iu(g.Ya++,c)),g.G==3&&va(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,nn.aa.N.call(this)};function zu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}H(zu,Ai);function qu(){Do.call(this),this.status=1}H(qu,Do);function ri(c){this.g=c}H(ri,Bu),ri.prototype.ua=function(){Fe(this.g,"a")},ri.prototype.ta=function(c){Fe(this.g,new zu(c))},ri.prototype.sa=function(c){Fe(this.g,new qu)},ri.prototype.ra=function(){Fe(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,I0=function(){return new Ta},R0=function(){return rr()},w0=Xn,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,th=or,Si.COMPLETE="complete",b0=Si,Co.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Ul=Co,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,S0=qe}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",dE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new lm("@firebase/firestore");function $a(){return Ws.logLevel}function le(r,...e){if(Ws.logLevel<=xe.DEBUG){const n=e.map(Em);Ws.debug(`Firestore (${yo}): ${r}`,...n)}}function Zi(r,...e){if(Ws.logLevel<=xe.ERROR){const n=e.map(Em);Ws.error(`Firestore (${yo}): ${r}`,...n)}}function oo(r,...e){if(Ws.logLevel<=xe.WARN){const n=e.map(Em);Ws.warn(`Firestore (${yo}): ${r}`,...n)}}function Em(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+r;throw Zi(e),new Error(e)}function He(r,e){r||Te()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class uD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cD{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new C0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new $t(e)}}class hD{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fD{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new hD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dD{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){He(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new pE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new pE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function Up(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=D0(),f=mD(u.encode(mE(r,n)),u.encode(mE(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function mE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function mD(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function lo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,_E=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_E);return new Ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ct(0,0))}static max(){return new Se(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__name__";class hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=hi.isNumericId(e),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class et extends hi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const gD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends hi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return gD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new Ft([yE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function _D(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Ct(n+1,0):new Ct(n,s));return new Qr(o,me.empty(),e)}function yD(r){return new Qr(r.readTime,r.key,Wl)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(Se.min(),me.empty(),Wl)}static max(){return new Qr(Se.max(),me.empty(),Wl)}}function vD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==ED)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const _=m;n(e[_]).next(E=>{f[_]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function AD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function Vh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function SD(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="";function bD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=vE(e)),e=wD(r.get(n),e);return vE(e)}function wD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case N0:n+="";break;default:n+=u}}return n}function vE(r){return r+N0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function is(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function M0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new An([])}unionWith(e){let n=new Dt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x0("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const RD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(He(!!r),typeof r=="string"){let e=0;const n=RD.exec(r);if(He(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="server_timestamp",V0="__type__",U0="__previous_value__",k0="__local_write_time__";function Am(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[V0])===null||n===void 0?void 0:n.stringValue)===P0}function Uh(r){const e=r.mapValue.fields[U0];return Am(e)?Uh(e):e}function Zl(r){const e=Yr(r.mapValue.fields[k0].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,s,o,u,f,p,m,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=_}}const yh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__type__",CD="__max__",Kc={mapValue:{}},j0="__vector__",vh="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Am(r)?4:OD(r)?9007199254740991:DD(r)?10:11:Te()}function yi(r,e){if(r===e)return!0;const n=$r(r);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yr(o.timestampValue),p=Yr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),p=mt(u.doubleValue);return f===p?_h(f)===_h(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(EE(f)!==EE(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!yi(f[m],p[m])))return!1;return!0}(r,e);default:return Te()}}function eu(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function uo(r,e){if(r===e)return 0;const n=$r(r),s=$r(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=mt(u.integerValue||u.doubleValue),m=mt(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return AE(r.timestampValue,e.timestampValue);case 4:return AE(Zl(r),Zl(e));case 5:return Up(r.stringValue,e.stringValue);case 6:return function(u,f){const p=Xr(u),m=Xr(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let _=0;_<p.length&&_<m.length;_++){const E=Ce(p[_],m[_]);if(E!==0)return E}return Ce(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Ce(mt(u.latitude),mt(f.latitude));return p!==0?p:Ce(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return SE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,_,E;const T=u.fields||{},b=f.fields||{},N=(p=T[vh])===null||p===void 0?void 0:p.arrayValue,H=(m=b[vh])===null||m===void 0?void 0:m.arrayValue,Y=Ce(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:SE(N,H)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),_=f.fields||{},E=Object.keys(_);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const b=Up(m[T],E[T]);if(b!==0)return b;const N=uo(p[m[T]],_[E[T]]);if(N!==0)return N}return Ce(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function AE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Yr(r),s=Yr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function SE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function co(r){return kp(r)}function kp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return me.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=kp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${kp(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function nh(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+nh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+nh(f)}),o}(r.mapValue);default:throw Te()}}function bE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lp(r){return!!r&&"integerValue"in r}function Sm(r){return!!r&&"arrayValue"in r}function wE(r){return!!r&&"nullValue"in r}function RE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function DD(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[L0])===null||n===void 0?void 0:n.stringValue)===j0}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function OD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=zl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){is(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(zl(this.value))}}function B0(r){const e=[];return is(r.fields,(n,s)=>{const o=new Ft([n]);if(ih(s)){const u=B0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function IE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ND(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{}class At extends z0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xD(e,n,s):n==="array-contains"?new UD(e,s):n==="in"?new kD(e,s):n==="not-in"?new LD(e,s):n==="array-contains-any"?new jD(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PD(e,s):new VD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends z0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Qn(e,n)}matches(e){return q0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function q0(r){return r.op==="and"}function H0(r){return MD(r)&&q0(r)}function MD(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function jp(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+co(r.value);if(H0(r))return r.filters.map(e=>jp(e)).join(",");{const e=r.filters.map(n=>jp(n)).join(",");return`${r.op}(${e})`}}function F0(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,e):r instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&F0(f,o.filters[p]),!0):!1}(r,e):void Te()}function G0(r){return r instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(G0).join(" ,")+"}"}(r):"Filter"}class xD extends At{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class PD extends At{constructor(e,n){super(e,"in",n),this.keys=K0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VD extends At{constructor(e,n){super(e,"not-in",n),this.keys=K0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function K0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class UD extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sm(n)&&eu(n.arrayValue,this.value)}}class kD extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class LD extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eu(this.value.arrayValue,n)}}class jD extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function DE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new BD(r,e,n,s,o,u,f)}function bm(r){const e=be(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>jp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>co(s)).join(",")),e.le=n}return e.le}function wm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ND(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!F0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!CE(r.startAt,e.startAt)&&CE(r.endAt,e.endAt)}function Bp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zD(r,e,n,s,o,u,f,p){return new To(r,e,n,s,o,u,f,p)}function kh(r){return new To(r)}function OE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Q0(r){return r.collectionGroup!==null}function ql(r){const e=be(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Dt(Ft.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new tu(u,s))}),n.has(Ft.keyField().canonicalString())||e.he.push(new tu(Ft.keyField(),s))}return e.he}function gi(r){const e=be(r);return e.Pe||(e.Pe=qD(e,ql(r))),e.Pe}function qD(r,e){if(r.limitType==="F")return DE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)});const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return DE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function zp(r,e){const n=r.filters.concat([e]);return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qp(r,e,n){return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Lh(r,e){return wm(gi(r),gi(e))&&r.limitType===e.limitType}function Y0(r){return`${bm(gi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>G0(o)).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function jh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const _=IE(f,p,m);return f.inclusive?_<=0:_<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,p,m){const _=IE(f,p,m);return f.inclusive?_>=0:_>0}(s.endAt,ql(s),o))}(r,e)}function HD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X0(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=FD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function FD(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),_=p.data.field(u);return m!==null&&_!==null?uo(m,_):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return M0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new st(me.comparator);function Ji(){return GD}const $0=new st(me.comparator);function kl(...r){let e=$0;for(const n of r)e=e.insert(n.key,n);return e}function W0(r){let e=$0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return Hl()}function Z0(){return Hl()}function Hl(){return new ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const KD=new st(me.comparator),QD=new Dt(me.comparator);function Pe(...r){let e=QD;for(const n of r)e=e.add(n);return e}const YD=new Dt(Ce);function XD(){return YD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function J0(r){return{integerValue:""+r}}function $D(r,e){return SD(e)?J0(e):Rm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function WD(r,e,n){return r instanceof nu?function(o,u){const f={fields:{[V0]:{stringValue:P0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Am(u)&&(u=Uh(u)),u&&(f.fields[U0]=u),{mapValue:f}}(n,e):r instanceof iu?tA(r,e):r instanceof ru?nA(r,e):function(o,u){const f=eA(o,u),p=NE(f)+NE(o.Ie);return Lp(f)&&Lp(o.Ie)?J0(p):Rm(o.serializer,p)}(r,e)}function ZD(r,e,n){return r instanceof iu?tA(r,e):r instanceof ru?nA(r,e):n}function eA(r,e){return r instanceof Th?function(s){return Lp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class nu extends Bh{}class iu extends Bh{constructor(e){super(),this.elements=e}}function tA(r,e){const n=iA(e);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class ru extends Bh{constructor(e){super(),this.elements=e}}function nA(r,e){let n=iA(e);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class Th extends Bh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function NE(r){return mt(r.integerValue||r.doubleValue)}function iA(r){return Sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.field=e,this.transform=n}}function eO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?lo(s.elements,o.elements,yi):s instanceof Th&&o instanceof Th?yi(s.Ie,o.Ie):s instanceof nu&&o instanceof nu}(r.transform,e.transform)}class tO{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zh{}function rA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Im(r.key,kn.none()):new pu(r.key,r.data,kn.none());{const n=r.data,s=cn.empty();let o=new Dt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(r.key,s,new An(o.toArray()),kn.none())}}function nO(r,e,n){r instanceof pu?function(o,u,f){const p=o.value.clone(),m=xE(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof rs?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=xE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(sA(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(r,e,n,s){return r instanceof pu?function(u,f,p,m){if(!rh(u.precondition,f))return p;const _=u.value.clone(),E=PE(u.fieldTransforms,m,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof rs?function(u,f,p,m){if(!rh(u.precondition,f))return p;const _=PE(u.fieldTransforms,m,f),E=f.data;return E.setAll(sA(u)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,n,s):function(u,f,p){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function iO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=eA(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function ME(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,f)=>eO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function xE(r,e,n){const s=new Map;He(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,ZD(f,p,n[o]))}return s}function PE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,WD(u,f,e))}return s}class Im extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rO extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Z0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=rA(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,s)=>ME(n,s))&&lo(this.baseMutations,e.baseMutations,(n,s)=>ME(n,s))}}class Cm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length);let o=function(){return KD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function lO(r){switch(r){case W.OK:return Te();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Te()}}function aA(r){if(r===void 0)return Zi("GRPC error has no .code"),W.UNKNOWN;switch(r){case Tt.OK:return W.OK;case Tt.CANCELLED:return W.CANCELLED;case Tt.UNKNOWN:return W.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return W.INTERNAL;case Tt.UNAVAILABLE:return W.UNAVAILABLE;case Tt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Tt.NOT_FOUND:return W.NOT_FOUND;case Tt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Tt.ABORTED:return W.ABORTED;case Tt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Tt.DATA_LOSS:return W.DATA_LOSS;default:return Te()}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Hr([4294967295,4294967295],0);function VE(r){const e=D0().encode(r),n=new A0;return n.update(e),new Uint8Array(n.digest())}function UE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class Dm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Hr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Hr.fromNumber(s)));return o.compare(uO)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=VE(e),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=VE(e),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qh(Se.min(),o,new st(Ce),Ji(),Pe())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class oA{constructor(e,n){this.targetId=e,this.ge=n}}class lA{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.pe=0,this.ye=LE(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new mu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=LE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class cO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ji(),this.$e=Qc(),this.Ue=Qc(),this.Ke=new st(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Bp(u))if(s===0){const f=new me(u.path);this.ze(n,f,Wt.newNoDocument(f,Se.min()))}else He(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(e),m=p?this.nt(p,e,f):1;if(m!==0){this.Ye(n);const _=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Xr(s).toUint8Array()}catch(m){if(m instanceof x0)return oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Dm(f,o,u)}catch(m){return oo(m instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&Bp(p.target)){const m=new me(p.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,Wt.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ue.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const _=this.Xe(m);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new qh(e,n,this.Ke,this.Qe,s);return this.Qe=Ji(),this.$e=Qc(),this.Ue=Qc(),this.Ke=new st(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new kE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Dt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new st(me.comparator)}function LE(){return new st(me.comparator)}const hO={asc:"ASCENDING",desc:"DESCENDING"},fO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dO={and:"AND",or:"OR"};class pO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hp(r,e){return r.useProto3Json||Vh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mO(r,e){return Ah(r,e.toTimestamp())}function _i(r){return He(!!r),Se.fromTimestamp(function(n){const s=Yr(n);return new Ct(s.seconds,s.nanos)}(r))}function Om(r,e){return Fp(r,e).canonicalString()}function Fp(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function cA(r){const e=et.fromString(r);return He(mA(e)),e}function Gp(r,e){return Om(r.databaseId,e.path)}function _p(r,e){const n=cA(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(fA(n))}function hA(r,e){return Om(r.databaseId,e)}function gO(r){const e=cA(r);return e.length===4?et.emptyPath():fA(e)}function Kp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fA(r){return He(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function jE(r,e,n){return{name:Gp(r,e),fields:n.value.mapValue.fields}}function _O(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(He(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(_){const E=_.code===void 0?W.UNKNOWN:aA(_.code);return new ue(E,_.message||"")}(f);n=new lA(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_p(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Se.min(),p=new cn({mapValue:{fields:s.document.fields}}),m=Wt.newFoundDocument(o,u,f,p),_=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(_,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_p(r,s.document),u=s.readTime?_i(s.readTime):Se.min(),f=Wt.newNoDocument(o,u),p=s.removedTargetIds||[];n=new sh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_p(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oO(o,u),p=s.targetId;n=new oA(p,f)}}return n}function yO(r,e){let n;if(e instanceof pu)n={update:jE(r,e.key,e.value)};else if(e instanceof Im)n={delete:Gp(r,e.key)};else if(e instanceof rs)n={update:jE(r,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof rO))return Te();n={verify:Gp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof nu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Th)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:mO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function vO(r,e){return r&&r.length>0?(He(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Se.min())&&(f=_i(u)),new tO(f,o.transformResults||[])}(n,e))):[]}function EO(r,e){return{documents:[hA(r,e.path)]}}function TO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hA(r,o);const u=function(_){if(_.length!==0)return pA(Qn.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(E=>function(b){return{field:Za(b.field),direction:bO(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Hp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function AO(r){let e=gO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(T){const b=dA(T);return b instanceof Qn&&H0(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(b=>function(H){return new tu(Ja(H.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(b))}(n.orderBy));let p=null;n.limit&&(p=function(T){let b;return b=typeof T=="object"?T.value:T,Vh(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(T){const b=!!T.before,N=T.values||[];return new Eh(N,b)}(n.startAt));let _=null;return n.endAt&&(_=function(T){const b=!T.before,N=T.values||[];return new Eh(N,b)}(n.endAt)),zD(e,o,f,u,p,"F",m,_)}function SO(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return At.create(Ja(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>dA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function bO(r){return hO[r]}function wO(r){return fO[r]}function RO(r){return dO[r]}function Za(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Ft.fromServerFormat(r.fieldPath)}function pA(r){return r instanceof At?function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:wO(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(o=>pA(o));return s.length===1?s[0]:{compositeFilter:{op:RO(n.op),filters:s}}}(r):Te()}function IO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),p=Gt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.Tt=e}}function DO(r){const e=AO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.Tn=new NO}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Qr.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class NO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(gA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ho(0)}static Kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",MO=1048576;function qE([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class xO{constructor(e){this.Hn=e,this.buffer=new Dt(qE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(zE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?le(zE,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.er(3e5)})}}class VO{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Ph.ae);const s=new xO(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(BE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,p,m,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,p=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(_=Date.now(),$a()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(_-m)+`ms
Total Duration: ${_-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function UO(r,e){return new VO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,An.empty(),Ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=kl();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=Ji();const f=Hl(),p=function(){return Hl()}();return n.forEach((m,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),Fl(E.mutation,_,E.mutation.getFieldMask(),Ct.now())):f.set(_.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>{var T;return p.set(_,new LO(E,(T=f.get(_))!==null&&T!==void 0?T:null))}),p))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new st((f,p)=>f-p),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const _=n.get(m);if(_===null)return;let E=s.get(m)||An.empty();E=p.applyToLocalView(_,E),s.set(m,E);const T=(o.get(p.batchId)||Pe()).add(m);o=o.insert(p.batchId,T)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),_=m.key,E=m.value,T=Z0();E.forEach(b=>{if(!u.has(b)){const N=rA(n.get(b),s.get(b));N!==null&&T.set(b,N),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,T))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Gs());let p=Wl,m=u;return f.next(_=>Z.forEach(_,(E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{m=m.insert(E,b)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,m,_,Pe())).next(E=>({batchId:p,changes:W0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(p=>Z.forEach(p,m=>{const _=function(T,b){return new To(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(E=>{E.forEach((T,b)=>{f=f.insert(T,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let p=kl();return f.forEach((m,_)=>{const E=u.get(m);E!==void 0&&Fl(E.mutation,_,An.empty(),Ct.now()),jh(n,_)&&(p=p.insert(m,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:DO(o.bundledQuery),readTime:_i(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.overlays=new st(me.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new me(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,_=m.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=u.get(_.largestBatchId);E===null&&(E=Gs(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Gs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,E)=>p.set(_,E)),!(p.size()>=o)););return Z.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aO(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Vr=new Dt(Ut.mr),this.gr=new Dt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new me(new et([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new me(new et([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return me.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ut.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sO(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new Ut(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Tm:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Ce);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new me(u),0);let p=new Dt(Ce);return this.Mr.forEachWhile(m=>{const _=m.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(m.Cr)),!0)},f),Z.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.kr=e,this.docs=function(){return new st(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ji();const f=n.path,p=new me(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:_,value:{document:E}}=m.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||vD(yD(E),s)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new GO(this)}getSize(e){return Z.resolve(this.size)}}class GO extends kO{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.persistence=e,this.Qr=new ta(n=>bm(n),wm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Nm,this.targetCount=0,this.Kr=ho.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ph(0),this.zr=!1,this.zr=!0,this.jr=new qO,this.referenceDelegate=e(this),this.Hr=new KO(this),this.indexManager=new OO,this.remoteDocumentCache=function(o){return new FO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new CO(n),this.Yr=new BO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new HO(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new QO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class QO extends TD{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.ti=new Nm,this.ni=null}static ri(e){return new Mm(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=me.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.oi=new ta(s=>bD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=UO(this,n)}static ri(e,n){return new Sh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wR()?8:AD(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new YO;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?($a()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):($a()<=xe.DEBUG&&le("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?($a()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):Z.resolve())}rs(e,n){if(OE(n))return Z.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=qp(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const _=this.cs(n,p);return this.ls(n,_,f,m.readTime)?this.rs(e,qp(n,null,"F")):this.hs(e,_,n,m)}))})))}ss(e,n,s,o){return OE(n)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):($a()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.hs(e,f,n,_D(o,Wl)).next(p=>p))})}cs(e,n){let s=new Dt(X0(e));return n.forEach((o,u)=>{jh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return $a()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ns.getDocumentsMatchingQuery(e,n,Qr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",$O=3e8;class WO{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Ce),this.Is=new ta(u=>bm(u),wm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function ZO(r,e,n,s){return new WO(r,e,n,s)}async function yA(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Pe();for(const _ of o){f.push(_.batchId);for(const E of _.mutations)m=m.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:p}))})})}function JO(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,m,_,E){const T=_.batch,b=T.keys();let N=Z.resolve();return b.forEach(H=>{N=N.next(()=>E.getEntry(m,H)).next(Y=>{const B=_.docVersions.get(H);He(B!==null),Y.version.compareTo(B)<0&&(T.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),E.addEntry(Y)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Pe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(m=m.add(p.batch.mutations[_].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function vA(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function eN(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((E,T)=>{const b=o.get(T);if(!b)return;p.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,T)));let N=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(T,N),function(Y,B,te){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=$O?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(b,N,E)&&p.push(n.Hr.updateTargetData(u,N))});let m=Ji(),_=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(tN(u,f,e.documentUpdates).next(E=>{m=E.Vs,_=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return Z.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,_)).next(()=>m)}).then(u=>(n.Ts=o,u))}function tN(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Ji();return n.forEach((p,m)=>{const _=u.get(p);m.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||m.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):le(Pm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function nN(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Tm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function iN(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Qp(r,e,n){const s=be(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eo(f))throw f;le(Pm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function HE(r,e,n){const s=be(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,_,E){const T=be(m),b=T.Is.get(E);return b!==void 0?Z.resolve(T.Ts.get(b)):T.Hr.getTargetData(_,E)}(s,f,gi(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(p=>(rN(s,HD(e),p),{documents:p,gs:u})))}function rN(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class FE{constructor(){this.activeTargetIds=XD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sN{constructor(){this.ho=new FE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new FE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class KE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(GE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(GE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Yp(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",oN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Yp(),p=this.bo(e,n.toUriEncodedString());le(yp,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(_=>(le(yp,`Received RPC '${e}' ${f}: `,_),_),_=>{throw oo(yp,`RPC '${e}' ${f} failed with error: `,_,"url: ",p,"request:",s),_})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=oN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class cN extends lN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Yp();return new Promise((f,p)=>{const m=new S0;m.setWithCredentials(!0),m.listenOnce(b0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case th.NO_ERROR:const E=m.getResponseJson();le(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case th.TIMEOUT:le(Xt,`RPC '${e}' ${u} timed out`),p(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const T=m.getStatus();if(le(Xt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const N=b==null?void 0:b.error;if(N&&N.status&&N.message){const H=function(B){const te=B.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(te)>=0?te:W.UNKNOWN}(N.status);p(new ue(H,N.message))}else p(new ue(W.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(Xt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);le(Xt,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Yp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=I0(),p=R0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,m);const T=f.createWebChannel(E,m);let b=!1,N=!1;const H=new uN({Fo:B=>{N?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(b||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Mo:()=>T.close()}),Y=(B,te,ae)=>{B.listen(te,ne=>{try{ae(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return Y(T,Ul.EventType.OPEN,()=>{N||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),H.Qo())}),Y(T,Ul.EventType.CLOSE,()=>{N||(N=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),H.Uo())}),Y(T,Ul.EventType.ERROR,B=>{N||(N=!0,oo(Xt,`RPC '${e}' stream ${o} transport errored:`,B),H.Uo(new ue(W.UNAVAILABLE,"The operation could not be completed")))}),Y(T,Ul.EventType.MESSAGE,B=>{var te;if(!N){const ae=B.data[0];He(!!ae);const ne=ae,he=(ne==null?void 0:ne.error)||((te=ne[0])===null||te===void 0?void 0:te.error);if(he){le(Xt,`RPC '${e}' stream ${o} received error:`,he);const fe=he.status;let we=function(I){const M=Tt[I];if(M!==void 0)return aA(M)}(fe),x=he.message;we===void 0&&(we=W.INTERNAL,x="Unknown error status: "+fe+" with message "+he.message),N=!0,H.Uo(new ue(we,x)),T.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,ae),H.Ko(ae)}}),Y(p,w0.STAT_EVENT,B=>{B.stat===Vp.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Vp.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(r){return new pO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="PersistentStream";class TA{constructor(e,n,s,o,u,f,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new EA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hN extends TA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=_O(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?_i(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Kp(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Bp(m)?{documents:EO(u,m)}:{query:TO(u,m).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=uA(u,f.resumeToken);const _=Hp(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){p.readTime=Ah(u,f.snapshotVersion.toTimestamp());const _=Hp(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const s=SO(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Kp(this.serializer),n.removeTarget=e,this.I_(n)}}class fN extends TA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=vO(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Kp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>yO(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{}class pN extends dN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Fp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Fp(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(W.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zi(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class gN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{na(this)&&(le(Zs,"Restarting streams for network reachability change."),await async function(m){const _=be(m);_.W_.add(4),await gu(_),_.j_.set("Unknown"),_.W_.delete(4),await Fh(_)}(this))})}),this.j_=new mN(s,o)}}async function Fh(r){if(na(r))for(const e of r.G_)await e(!0)}async function gu(r){for(const e of r.G_)await e(!1)}function AA(r,e){const n=be(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Lm(n)?km(n):Ao(n).c_()&&Um(n,e))}function Vm(r,e){const n=be(r),s=Ao(n);n.K_.delete(e),s.c_()&&SA(n,e),n.K_.size===0&&(s.c_()?s.P_():na(n)&&n.j_.set("Unknown"))}function Um(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).y_(e)}function SA(r,e){r.H_.Ne(e),Ao(r).w_(e)}function km(r){r.H_=new cO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.j_.B_()}function Lm(r){return na(r)&&!Ao(r).u_()&&r.K_.size>0}function na(r){return be(r).W_.size===0}function bA(r){r.H_=void 0}async function _N(r){r.j_.set("Online")}async function yN(r){r.K_.forEach((e,n)=>{Um(r,e)})}async function vN(r,e){bA(r),Lm(r)?(r.j_.q_(e),km(r)):r.j_.set("Unknown")}async function EN(r,e,n){if(r.j_.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(s){le(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(r,s)}else if(e instanceof sh?r.H_.We(e):e instanceof oA?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await vA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.K_.get(_);E&&u.K_.set(_,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,_)=>{const E=u.K_.get(m);if(!E)return;u.K_.set(m,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),SA(u,m);const T=new jr(E.target,m,_,E.sequenceNumber);Um(u,T)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){le(Zs,"Failed to raise snapshot:",s),await bh(r,s)}}async function bh(r,e,n){if(!Eo(e))throw e;r.W_.add(1),await gu(r),r.j_.set("Offline"),n||(n=()=>vA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Zs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Fh(r)})}function wA(r,e){return e().catch(n=>bh(r,n,e))}async function Gh(r){const e=be(r),n=Wr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Tm;for(;TN(e);)try{const o=await nN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,AN(e,o)}catch(o){await bh(e,o)}RA(e)&&IA(e)}function TN(r){return na(r)&&r.U_.length<10}function AN(r,e){r.U_.push(e);const n=Wr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function RA(r){return na(r)&&!Wr(r).u_()&&r.U_.length>0}function IA(r){Wr(r).start()}async function SN(r){Wr(r).C_()}async function bN(r){const e=Wr(r);for(const n of r.U_)e.b_(n.mutations)}async function wN(r,e,n){const s=r.U_.shift(),o=Cm.from(s,e,n);await wA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Gh(r)}async function RN(r,e){e&&Wr(r).S_&&await async function(s,o){if(function(f){return lO(f)&&f!==W.ABORTED}(o.code)){const u=s.U_.shift();Wr(s).h_(),await wA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Gh(s)}}(r,e),RA(r)&&IA(r)}async function YE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),le(Zs,"RemoteStore received new credentials");const s=na(n);n.W_.add(3),await gu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Fh(n)}async function IN(r,e){const n=be(r);e?(n.W_.delete(2),await Fh(n)):e||(n.W_.add(2),await gu(n),n.j_.set("Unknown"))}function Ao(r){return r.J_||(r.J_=function(n,s,o){const u=be(n);return u.M_(),new hN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:_N.bind(null,r),No:yN.bind(null,r),Lo:vN.bind(null,r),p_:EN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Lm(r)?km(r):r.j_.set("Unknown")):(await r.J_.stop(),bA(r))})),r.J_}function Wr(r){return r.Y_||(r.Y_=function(n,s,o){const u=be(n);return u.M_(),new fN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:SN.bind(null,r),Lo:RN.bind(null,r),D_:bN.bind(null,r),v_:wN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Gh(r)):(await r.Y_.stop(),r.U_.length>0&&(le(Zs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new jm(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),Eo(r))return new ue(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.Z_=new st(me.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class fo{constructor(e,n,s,o,u,f,p,m,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new fo(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class DN{constructor(){this.queries=$E(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=$E(),u.forEach((f,p)=>{for(const m of p.ta)m.onError(s)})})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function $E(){return new ta(r=>Y0(r),Lh)}async function CA(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new CN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Bm(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&zm(n)}async function DA(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ON(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&zm(n)}function NN(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function zm(r){r.ia.forEach(e=>{e.next()})}var Xp,WE;(WE=Xp||(Xp={}))._a="default",WE.Cache="cache";class OA{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.key=e}}class MA{constructor(e){this.key=e}}class MN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=X0(e),this.wa=new so(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new XE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const b=o.get(E),N=jh(this.query,T)?T:null,H=!!b&&this.mutatedKeys.has(b.key),Y=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;b&&N?b.data.isEqual(N.data)?H!==Y&&(s.track({type:3,doc:N}),B=!0):this.va(b,N)||(s.track({type:2,doc:N}),B=!0,(m&&this.ya(N,m)>0||_&&this.ya(N,_)<0)&&(p=!0)):!b&&N?(s.track({type:0,doc:N}),B=!0):b&&!N&&(s.track({type:1,doc:b}),B=!0,(m||_)&&(p=!0)),B&&(N?(f=f.add(N),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,T)=>function(N,H){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Y(N)-Y(H)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,_=m!==this.ga;return this.ga=m,f.length!==0||_?{snapshot:new fo(this.query,e.wa,u,f,e.mutatedKeys,m===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new XE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new MA(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new NA(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qm="SyncEngine";class xN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PN{constructor(e){this.key=e,this.Ba=!1}}class VN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ta(p=>Y0(p),Lh),this.qa=new Map,this.Qa=new Set,this.$a=new st(me.comparator),this.Ua=new Map,this.Ka=new Nm,this.Wa={},this.Ga=new Map,this.za=ho.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function UN(r,e,n=!0){const s=LA(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await xA(s,e,n,!0),o}async function kN(r,e){const n=LA(r);await xA(n,e,!0,!1)}async function xA(r,e,n,s){const o=await iN(r.localStore,gi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await LN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&AA(r.remoteStore,o),p}async function LN(r,e,n,s,o){r.Ha=(T,b,N)=>async function(Y,B,te,ae){let ne=B.view.ba(te);ne.ls&&(ne=await HE(Y.localStore,B.query,!1).then(({documents:x})=>B.view.ba(x,ne)));const he=ae&&ae.targetChanges.get(B.targetId),fe=ae&&ae.targetMismatches.get(B.targetId)!=null,we=B.view.applyChanges(ne,Y.isPrimaryClient,he,fe);return JE(Y,B.targetId,we.Ma),we.snapshot}(r,T,b,N);const u=await HE(r.localStore,e,!0),f=new MN(e,u.gs),p=f.ba(u.documents),m=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(p,r.isPrimaryClient,m);JE(r,n,_.Ma);const E=new xN(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function jN(r,e,n){const s=be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Lh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Vm(s.remoteStore,o.targetId),$p(s,o.targetId)}).catch(vo)):($p(s,o.targetId),await Qp(s.localStore,o.targetId,!0))}async function BN(r,e){const n=be(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vm(n.remoteStore,s.targetId))}async function zN(r,e,n){const s=YN(r);try{const o=await function(f,p){const m=be(f),_=Ct.now(),E=p.reduce((N,H)=>N.add(H.key),Pe());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let H=Ji(),Y=Pe();return m.ds.getEntries(N,E).next(B=>{H=B,H.forEach((te,ae)=>{ae.isValidDocument()||(Y=Y.add(te))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,H)).next(B=>{T=B;const te=[];for(const ae of p){const ne=iO(ae,T.get(ae.key).overlayedDocument);ne!=null&&te.push(new rs(ae.key,ne,B0(ne.value.mapValue),kn.exists(!0)))}return m.mutationQueue.addMutationBatch(N,_,te,p)}).next(B=>{b=B;const te=B.applyToLocalDocumentSet(T,Y);return m.documentOverlayCache.saveOverlays(N,B.batchId,te)})}).then(()=>({batchId:b.batchId,changes:W0(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let _=f.Wa[f.currentUser.toKey()];_||(_=new st(Ce)),_=_.insert(p,m),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await _u(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=Bm(o,"Failed to persist write");n.reject(u)}}async function PA(r,e){const n=be(r);try{const s=await eN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?He(f.Ba):o.removedDocuments.size>0&&(He(f.Ba),f.Ba=!1))}),await _u(n,s,e)}catch(s){await vo(s)}}function ZE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=be(f);m.onlineState=p;let _=!1;m.queries.forEach((E,T)=>{for(const b of T.ta)b.sa(p)&&(_=!0)}),_&&zm(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qN(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new st(me.comparator);f=f.insert(u,Wt.newNoDocument(u,Se.min()));const p=Pe().add(u),m=new qh(Se.min(),new Map,new st(Ce),f,p);await PA(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Hm(s)}else await Qp(s.localStore,e,!1).then(()=>$p(s,e,n)).catch(vo)}async function HN(r,e){const n=be(r),s=e.batch.batchId;try{const o=await JO(n.localStore,e);UA(n,s,null),VA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await vo(o)}}async function FN(r,e,n){const s=be(r);try{const o=await function(f,p){const m=be(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return m.mutationQueue.lookupMutationBatch(_,p).next(T=>(He(T!==null),E=T.keys(),m.mutationQueue.removeMutationBatch(_,T))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>m.localDocuments.getDocuments(_,E))})}(s.localStore,e);UA(s,e,n),VA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await vo(o)}}function VA(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function UA(r,e,n){const s=be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function $p(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||kA(r,s)})}function kA(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Vm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Hm(r))}function JE(r,e,n){for(const s of n)s instanceof NA?(r.Ka.addReference(s.key,e),GN(r,s)):s instanceof MA?(le(qm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||kA(r,s.key)):Te()}function GN(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(qm,"New document in limbo: "+n),r.Qa.add(s),Hm(r))}function Hm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new me(et.fromString(e)),s=r.za.next();r.Ua.set(s,new PN(n)),r.$a=r.$a.insert(n,s),AA(r.remoteStore,new jr(gi(kh(n.path)),s,"TargetPurposeLimboResolution",Ph.ae))}}async function _u(r,e,n){const s=be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{f.push(s.Ha(m,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const T=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(_){o.push(_);const T=xm.Yi(m.targetId,_);u.push(T)}}))}),await Promise.all(f),s.La.p_(o),await async function(m,_){const E=be(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(_,b=>Z.forEach(b.Hi,N=>E.persistence.referenceDelegate.addReference(T,b.targetId,N)).next(()=>Z.forEach(b.Ji,N=>E.persistence.referenceDelegate.removeReference(T,b.targetId,N)))))}catch(T){if(!Eo(T))throw T;le(Pm,"Failed to update sequence numbers: "+T)}for(const T of _){const b=T.targetId;if(!T.fromCache){const N=E.Ts.get(b),H=N.snapshotVersion,Y=N.withLastLimboFreeSnapshotVersion(H);E.Ts=E.Ts.insert(b,Y)}}}(s.localStore,u))}async function KN(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){le(qm,"User change. New user:",e.toKey());const s=await yA(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(m=>{m.reject(new ue(W.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Rs)}}function QN(r,e){const n=be(r),s=n.Ua.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function LA(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=PA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qN.bind(null,e),e.La.p_=ON.bind(null,e.eventManager),e.La.Ja=NN.bind(null,e.eventManager),e}function YN(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FN.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return ZO(this.persistence,new XO,e.initialUser,this.serializer)}Xa(e){return new _A(Mm.ri,this.serializer)}Za(e){return new sN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class XN extends wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){He(this.persistence.referenceDelegate instanceof Sh);const s=this.persistence.referenceDelegate.garbageCollector;return new PO(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new _A(s=>Sh.ri(s,n),this.serializer)}}class Wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await IN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DN}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),s=function(u){return new cN(u)}(e.databaseInfo);return function(u,f,p,m){return new pN(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new gN(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>ZE(this.syncEngine,n,0),function(){return KE.D()?new KE:new aN}())}createSyncEngine(e,n){return function(o,u,f,p,m,_,E){const T=new VN(o,u,f,p,m,_);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=be(o);le(Zs,"RemoteStore shutting down."),u.W_.add(5),await gu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class $N{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=O0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ep(r,e){r.asyncQueue.verifyOperationInProgress(),le(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await yA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function eT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await WN(r);le(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>YE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>YE(e.remoteStore,o)),r._onlineComponents=e}async function WN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Zr,"Using user provided OfflineComponentProvider");try{await Ep(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Ep(r,new wh)}}else le(Zr,"Using default OfflineComponentProvider"),await Ep(r,new XN(void 0));return r._offlineComponents}async function BA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Zr,"Using user provided OnlineComponentProvider"),await eT(r,r._uninitializedComponentsProvider._online)):(le(Zr,"Using default OnlineComponentProvider"),await eT(r,new Wp))),r._onlineComponents}function ZN(r){return BA(r).then(e=>e.syncEngine)}async function Zp(r){const e=await BA(r),n=e.eventManager;return n.onListen=UN.bind(null,e.syncEngine),n.onUnlisten=jN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BN.bind(null,e.syncEngine),n}function JN(r,e,n={}){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,_){const E=new jA({next:b=>{E.su(),f.enqueueAndForget(()=>DA(u,T));const N=b.docs.has(p);!N&&b.fromCache?_.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&m&&m.source==="server"?_.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(b)},error:b=>_.reject(b)}),T=new OA(kh(p.path),E,{includeMetadataChanges:!0,Ta:!0});return CA(u,T)}(await Zp(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function e2(r,e,n,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function nT(r){if(!me.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iT(r){if(me.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firestore.googleapis.com",rT=!0;class sT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HA,this.ssl=rT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:rT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MO)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lD;switch(s.type){case"firstParty":return new fD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=tT.get(n);s&&(le("ComponentProvider","Removing Datastore"),tT.delete(n),s.terminate())}(this),Promise.resolve()}}function t2(r,e,n,s={}){var o;const u=(r=Ln(r,Qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==HA&&u.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Qs(m,f)&&(r._setSettings(m),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=$t.MOCK_USER;else{_=VT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(T)}r._authCredentials=new uD(new C0(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class Zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Gr extends ia{constructor(e,n,s){super(e,n,kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new me(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function su(r,e,...n){if(r=rt(r),qA("collection","path",e),r instanceof Qh){const s=et.fromString(e,...n);return iT(s),new Gr(r,null,s)}{if(!(r instanceof Zt||r instanceof Gr))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return iT(s),new Gr(r.firestore,null,s)}}function Yi(r,e,...n){if(r=rt(r),arguments.length===1&&(e=O0.newId()),qA("doc","path",e),r instanceof Qh){const s=et.fromString(e,...n);return nT(s),new Zt(r,null,new me(s))}{if(!(r instanceof Zt||r instanceof Gr))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return nT(s),new Zt(r.firestore,r instanceof Gr?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class oT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new EA(this,"async_queue_retry"),this.Su=()=>{const s=vp();s&&le(aT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Fr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eo(e))throw e;le(aT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw Zi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=jm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function lT(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Jr extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new oT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oT(e),this._firestoreClient=void 0,await e}}}function n2(r,e){const n=typeof r=="object"?r:cm(),s=typeof r=="string"?r:yh,o=Oh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=MT("firestore");u&&t2(o,...u)}return o}function Fm(r){if(r._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||i2(r),r._firestoreClient}function i2(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,_,E){return new ID(p,m,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,zA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new $N(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Gt.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class s2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class FA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Qm{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GA(this.Lu)&&r2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class a2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(e)}ju(e,n,s,o=!1){return new Qm({Lu:e,methodName:n,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(r){const e=r._freezeSettings(),n=Hh(r._databaseId);return new a2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function KA(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Xm("Data must be an object, but it was:",f,s);const p=QA(s,f);let m,_;if(u.merge)m=new An(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=Jp(e,T,n);if(!f.contains(b))throw new ue(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);XA(E,b)||E.push(b)}m=new An(E),_=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,_=f.fieldTransforms;return new s2(new cn(p),m,_)}class Wh extends Xh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}class Ym extends Xh{_toFieldTransform(e){return new JD(e.path,new nu)}isEqual(e){return e instanceof Ym}}function o2(r,e,n,s){const o=r.ju(1,e,n);Xm("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();is(s,(m,_)=>{const E=$m(e,m,n);_=rt(_);const T=o.Uu(E);if(_ instanceof Wh)u.push(E);else{const b=yu(_,T);b!=null&&(u.push(E),f.set(E,b))}});const p=new An(u);return new FA(f,p,o.fieldTransforms)}function l2(r,e,n,s,o,u){const f=r.ju(1,e,n),p=[Jp(e,s,n)],m=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push(Jp(e,u[b])),m.push(u[b+1]);const _=[],E=cn.empty();for(let b=p.length-1;b>=0;--b)if(!XA(_,p[b])){const N=p[b];let H=m[b];H=rt(H);const Y=f.Uu(N);if(H instanceof Wh)_.push(N);else{const B=yu(H,Y);B!=null&&(_.push(N),E.set(N,B))}}const T=new An(_);return new FA(E,T,f.fieldTransforms)}function u2(r,e,n,s=!1){return yu(n,r.ju(s?4:3,e))}function yu(r,e){if(YA(r=rt(r)))return Xm("Unsupported field value:",e,r),QA(r,e);if(r instanceof Xh)return function(s,o){if(!GA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=yu(p,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $D(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Gm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:uA(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Om(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Km)return function(f,p){return{mapValue:{fields:{[L0]:{stringValue:j0},[vh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw p.Wu("VectorValues must only contain numeric values.");return Rm(p.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Kh(s)}`)}(r,e)}function QA(r,e){const n={};return M0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(r,(s,o)=>{const u=yu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function YA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof Gm||r instanceof po||r instanceof Zt||r instanceof Xh||r instanceof Km)}function Xm(r,e,n){if(!YA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Kh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Jp(r,e,n){if((e=rt(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return $m(r,e);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const c2=new RegExp("[~\\*/\\[\\]]");function $m(r,e,n){if(e.search(c2)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ue(W.INVALID_ARGUMENT,p+r+m)}function XA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h2 extends $A{data(){return super.data()}}function Zh(r,e){return typeof e=="string"?$m(r,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class WA extends Wm{}function Zm(r,e,...n){let s=[];e instanceof Wm&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Jm).length,p=u.filter(m=>m instanceof Jh).length;if(f>1||f>0&&p>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Jh extends WA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return ZA(e._query,n),new ia(e.firestore,e.converter,zp(e._query,n))}_parse(e){const n=$h(e.firestore);return function(u,f,p,m,_,E,T){let b;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){cT(T,E);const H=[];for(const Y of T)H.push(uT(m,u,Y));b={arrayValue:{values:H}}}else b=uT(m,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||cT(T,E),b=u2(p,f,T,E==="in"||E==="not-in");return At.create(_,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ih(r,e,n){const s=e,o=Zh("where",r);return Jh._create(o,s,n)}class Jm extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)ZA(f,m),f=zp(f,m)}(e._query,n),new ia(e.firestore,e.converter,zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends WA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,f)}(e._query,this._field,this._direction);return new ia(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function tg(r,e="asc"){const n=e,s=Zh("orderBy",r);return eg._create(s,n)}function uT(r,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q0(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bE(r,new me(s))}if(n instanceof Zt)return bE(r,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function cT(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZA(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class d2{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new Km(u)}convertGeoPoint(e){return new Gm(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(mA(s));const o=new Jl(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eS extends $A{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ah extends eS{data(e={}){return super.data(e)}}class p2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:m2(p.type),doc:m,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r){r=Ln(r,Zt);const e=Ln(r.firestore,Jr);return JN(Fm(e),r._key).then(n=>sS(e,r,n))}class nS extends d2{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function em(r,e,n){r=Ln(r,Zt);const s=Ln(r.firestore,Jr),o=JA(r.converter,e,n);return ef(s,[KA($h(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,kn.none())])}function iS(r,e,n,...s){r=Ln(r,Zt);const o=Ln(r.firestore,Jr),u=$h(o);let f;return f=typeof(e=rt(e))=="string"||e instanceof Yh?l2(u,"updateDoc",r._key,e,n,s):o2(u,"updateDoc",r._key,e),ef(o,[f.toMutation(r._key,kn.exists(!0))])}function g2(r){return ef(Ln(r.firestore,Jr),[new Im(r._key,kn.none())])}function rS(r,e){const n=Ln(r.firestore,Jr),s=Yi(r),o=JA(r.converter,e);return ef(n,[KA($h(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,kn.exists(!1))]).then(()=>s)}function ng(r,...e){var n,s,o;r=rt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||lT(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(lT(e[f])){const T=e[f];e[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let m,_,E;if(r instanceof Zt)_=Ln(r.firestore,Jr),E=kh(r._key.path),m={next:T=>{e[f]&&e[f](sS(_,r,T))},error:e[f+1],complete:e[f+2]};else{const T=Ln(r,ia);_=Ln(T.firestore,Jr),E=T._query;const b=new nS(_);m={next:N=>{e[f]&&e[f](new p2(_,b,T,N))},error:e[f+1],complete:e[f+2]},f2(r._query)}return function(b,N,H,Y){const B=new jA(Y),te=new OA(N,B,H);return b.asyncQueue.enqueueAndForget(async()=>CA(await Zp(b),te)),()=>{B.su(),b.asyncQueue.enqueueAndForget(async()=>DA(await Zp(b),te))}}(Fm(_),E,p,m)}function ef(r,e){return function(s,o){const u=new Fr;return s.asyncQueue.enqueueAndForget(async()=>zN(await ZN(s),o,u)),u.promise}(Fm(r),e)}function sS(r,e,n){const s=n.docs.get(e._key),o=new nS(r);return new eS(r,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function tm(){return new Ym("serverTimestamp")}(function(e,n=!0){(function(o){yo=o})(ea),Ys(new Kr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Jr(new cD(s.getProvider("auth-internal")),new dD(f,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(_.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),di(fE,dE,e),di(fE,dE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebasestorage.googleapis.com",oS="storageBucket",_2=2*60*1e3,y2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends vi{constructor(e,n,s=0){super(Tp(e),`Firebase Storage: ${n} (${Tp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Tp(r){return"storage/"+r}function ig(){const r="An unknown error occurred, please check the error payload for server response.";return new ht(ct.UNKNOWN,r)}function v2(r){return new ht(ct.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function E2(r){return new ht(ct.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function T2(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(ct.UNAUTHENTICATED,r)}function A2(){return new ht(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function S2(r){return new ht(ct.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function b2(){return new ht(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w2(){return new ht(ct.CANCELED,"User canceled the upload/download.")}function R2(r){return new ht(ct.INVALID_URL,"Invalid URL '"+r+"'.")}function I2(r){return new ht(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function C2(){return new ht(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oS+"' property when initializing the app?")}function D2(){return new ht(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function O2(){return new ht(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function N2(r){return new ht(ct.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nm(r){return new ht(ct.INVALID_ARGUMENT,r)}function lS(){return new ht(ct.APP_DELETED,"The Firebase app was deleted.")}function M2(r){return new ht(ct.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gl(r,e){return new ht(ct.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function xl(r){throw new ht(ct.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(s.path==="")return s;throw I2(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),m={bucket:1,path:3};function _(he){he.path_=decodeURIComponent(he.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${E}/b/${o}/o${b}`,"i"),H={bucket:1,path:3},Y=n===aS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",te=new RegExp(`^https?://${Y}/${o}/${B}`,"i"),ne=[{regex:p,indices:m,postModify:u},{regex:N,indices:H,postModify:_},{regex:te,indices:{bucket:1,path:2},postModify:_}];for(let he=0;he<ne.length;he++){const fe=ne[he],we=fe.regex.exec(e);if(we){const x=we[fe.indices.bucket];let w=we[fe.indices.path];w||(w=""),s=new Sn(x,w),fe.postModify(s);break}}if(s==null)throw R2(e);return s}}class x2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r,e,n){let s=1,o=null,u=null,f=!1,p=0;function m(){return p===2}let _=!1;function E(...B){_||(_=!0,e.apply(null,B))}function T(B){o=setTimeout(()=>{o=null,r(N,m())},B)}function b(){u&&clearTimeout(u)}function N(B,...te){if(_){b();return}if(B){b(),E.call(null,B,...te);return}if(m()||f){b(),E.call(null,B,...te);return}s<64&&(s*=2);let ne;p===1?(p=2,ne=0):ne=(s+Math.random())*1e3,T(ne)}let H=!1;function Y(B){H||(H=!0,b(),!_&&(o!==null?(B||(p=2),clearTimeout(o),T(0)):B||(p=1)))}return T(0),u=setTimeout(()=>{f=!0,Y(!0)},n),Y}function V2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r){return r!==void 0}function k2(r){return typeof r=="object"&&!Array.isArray(r)}function rg(r){return typeof r=="string"||r instanceof String}function hT(r){return sg()&&r instanceof Blob}function sg(){return typeof Blob<"u"}function fT(r,e,n,s){if(s<e)throw nm(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw nm(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function uS(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ks;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,s,o,u,f,p,m,_,E,T,b=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=m,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=T,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,H)=>{this.resolve_=N,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Xc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const m=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,_)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===Ks.NO_ERROR,m=u.getStatus();if(!p||L2(m,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ks.ABORT;s(!1,new Xc(!1,null,E));return}const _=this.successCodes_.indexOf(m)!==-1;s(!0,new Xc(_,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());U2(m)?u(m):u()}catch(m){f(m)}else if(p!==null){const m=ig();m.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,m)):f(m)}else if(o.canceled){const m=this.appDelete_?lS():w2();f(m)}else{const m=b2();f(m)}};this.canceled_?n(!1,new Xc(!1,null,!0)):this.backoffId_=P2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function B2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function z2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function H2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function F2(r,e,n,s,o,u,f=!0){const p=uS(r.urlParams),m=r.url+p,_=Object.assign({},r.headers);return q2(_,e),B2(_,n),z2(_,u),H2(_,s),new j2(m,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function K2(...r){const e=G2();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(sg())return new Blob(r);throw new ht(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q2(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r){if(typeof atob>"u")throw N2("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ap{constructor(e,n){this.data=e,this.contentType=n||null}}function X2(r,e){switch(r){case fi.RAW:return new Ap(cS(e));case fi.BASE64:case fi.BASE64URL:return new Ap(hS(r,e));case fi.DATA_URL:return new Ap(W2(e),Z2(e))}throw ig()}function cS(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=r.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function $2(r){let e;try{e=decodeURIComponent(r)}catch{throw Gl(fi.DATA_URL,"Malformed data URL.")}return cS(e)}function hS(r,e){switch(r){case fi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Gl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Gl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Y2(e)}catch(o){throw o.message.includes("polyfill")?o:Gl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class fS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gl(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=J2(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function W2(r){const e=new fS(r);return e.base64?hS(fi.BASE64,e.rest):$2(e.rest)}function Z2(r){return new fS(r).contentType}function J2(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){let s=0,o="";hT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(hT(this.data_)){const s=this.data_,o=Q2(s,e,n);return o===null?null:new kr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new kr(s,!0)}}static getBlob(...e){if(sg()){const n=e.map(s=>s instanceof kr?s.data_:s);return new kr(K2.apply(null,n))}else{const n=e.map(f=>rg(f)?X2(fi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let p=0;p<f.length;p++)o[u++]=f[p]}),new kr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){let e;try{e=JSON.parse(r)}catch{return null}return k2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function tM(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function pS(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(r,e){return e}class sn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||nM}}let $c=null;function iM(r){return!rg(r)||r.length<2?r:pS(r)}function mS(){if($c)return $c;const r=[];r.push(new sn("bucket")),r.push(new sn("generation")),r.push(new sn("metageneration")),r.push(new sn("name","fullPath",!0));function e(u,f){return iM(f)}const n=new sn("name");n.xform=e,r.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new sn("size");return o.xform=s,r.push(o),r.push(new sn("timeCreated")),r.push(new sn("updated")),r.push(new sn("md5Hash",null,!0)),r.push(new sn("cacheControl",null,!0)),r.push(new sn("contentDisposition",null,!0)),r.push(new sn("contentEncoding",null,!0)),r.push(new sn("contentLanguage",null,!0)),r.push(new sn("contentType",null,!0)),r.push(new sn("metadata","customMetadata",!0)),$c=r,$c}function rM(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function sM(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return rM(s,r),s}function gS(r,e,n){const s=dS(e);return s===null?null:sM(r,s,n)}function aM(r,e,n,s){const o=dS(e);if(o===null||!rg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(_=>{const E=r.bucket,T=r.fullPath,b="/b/"+f(E)+"/o/"+f(T),N=ag(b,n,s),H=uS({alt:"media",token:_});return N+H})[0]}function oM(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class _S{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r){if(!r)throw ig()}function lM(r,e){function n(s,o){const u=gS(r,o,e);return yS(u!==null),u}return n}function uM(r,e){function n(s,o){const u=gS(r,o,e);return yS(u!==null),aM(u,o,r.host,r._protocol)}return n}function vS(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=A2():o=T2():n.getStatus()===402?o=E2(r.bucket):n.getStatus()===403?o=S2(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function cM(r){const e=vS(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=v2(r.path)),u.serverResponse=o.serverResponse,u}return n}function hM(r,e,n){const s=e.fullServerUrl(),o=ag(s,r.host,r._protocol),u="GET",f=r.maxOperationRetryTime,p=new _S(o,u,uM(r,n),f);return p.errorHandler=cM(e),p}function fM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function dM(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=fM(null,e)),s}function pM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let ne="";for(let he=0;he<2;he++)ne=ne+Math.random().toString().slice(2);return ne}const m=p();f["Content-Type"]="multipart/related; boundary="+m;const _=dM(e,s,o),E=oM(_,n),T="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+m+`\r
Content-Type: `+_.contentType+`\r
\r
`,b=`\r
--`+m+"--",N=kr.getBlob(T,s,b);if(N===null)throw D2();const H={name:_.fullPath},Y=ag(u,r.host,r._protocol),B="POST",te=r.maxUploadRetryTime,ae=new _S(Y,B,lM(r,n),te);return ae.urlParams=H,ae.headers=f,ae.body=N.uploadData(),ae.errorHandler=vS(e),ae}class mM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw xl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gM extends mM{initXhr(){this.xhr_.responseType="text"}}function ES(){return new gM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Js(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pS(this._location.path)}get storage(){return this._service}get parent(){const e=eM(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new Js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw M2(e)}}function _M(r,e,n){r._throwIfRoot("uploadBytes");const s=pM(r.storage,r._location,mS(),new kr(e,!0),n);return r.storage.makeRequestWithTokens(s,ES).then(o=>({metadata:o,ref:r}))}function yM(r){r._throwIfRoot("getDownloadURL");const e=hM(r.storage,r._location,mS());return r.storage.makeRequestWithTokens(e,ES).then(n=>{if(n===null)throw O2();return n})}function vM(r,e){const n=tM(r._location.path,e),s=new Sn(r._location.bucket,n);return new Js(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(r){return/^[A-Za-z]+:\/\//.test(r)}function TM(r,e){return new Js(r,e)}function TS(r,e){if(r instanceof og){const n=r;if(n._bucket==null)throw C2();const s=new Js(n,n._bucket);return e!=null?TS(s,e):s}else return e!==void 0?vM(r,e):r}function AM(r,e){if(e&&EM(e)){if(r instanceof og)return TM(r,e);throw nm("To use ref(service, url), the first argument must be a Storage instance.")}else return TS(r,e)}function dT(r,e){const n=e==null?void 0:e[oS];return n==null?null:Sn.makeFromBucketSpec(n,r)}function SM(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:VT(o,r.app.options.projectId))}class og{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=aS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_2,this._maxUploadRetryTime=y2,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=dT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=dT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new x2(lS());{const f=F2(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const pT="@firebase/storage",mT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="storage";function bM(r,e,n){return r=rt(r),_M(r,e,n)}function wM(r){return r=rt(r),yM(r)}function RM(r,e){return r=rt(r),AM(r,e)}function IM(r=cm(),e){r=rt(r);const s=Oh(r,AS).getImmediate({identifier:e}),o=MT("storage");return o&&CM(s,...o),s}function CM(r,e,n,s={}){SM(r,e,n,s)}function DM(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new og(n,s,o,e,ea)}function OM(){Ys(new Kr(AS,DM,"PUBLIC").setMultipleInstances(!0)),di(pT,mT,""),di(pT,mT,"esm2017")}OM();const NM={apiKey:"AIzaSyBVZrUnHq3QA4Bzplh1x6t2MQ57X4KdlHc",authDomain:"rideshare-app-25f74.firebaseapp.com",projectId:"rideshare-app-25f74",storageBucket:"rideshare-app-25f74.firebasestorage.app",messagingSenderId:"758602466817",appId:"1:758602466817:web:6e592f93399a1a5423a200"},tf=LT(NM);T0(tf);const En=n2(tf),MM=IM(tf),SS=J.createContext();function nr(){return J.useContext(SS)}function xM({children:r}){const[e,n]=J.useState(null),[s,o]=J.useState(!0),u=T0(tf);async function f(T,b){try{const N=await H1(u,T,b);return console.log("Signup successful:",N.user),N}catch(N){throw console.error("Signup failed:",N.code,N.message),N}}async function p(T,b){try{const N=await F1(u,T,b);return console.log("Login successful:",N.user),N}catch(N){throw console.error("Login failed:",N.code,N.message),N}}async function m(){try{await Y1(u),console.log("Logout successful")}catch(T){throw console.error("Logout failed:",T.code,T.message),T}}async function _(T){try{await q1(u,T),console.log("Password reset email sent")}catch(b){throw console.error("Password reset failed:",b.code,b.message),b}}J.useEffect(()=>Q1(u,b=>{n(b),o(!1),console.log("Auth state changed, current user:",b?b.uid:null)}),[u]);const E={currentUser:e,loading:s,signup:f,login:p,logout:m,resetPassword:_};return j.jsx(SS.Provider,{value:E,children:!s&&r})}function PM(){const r=J.useRef(),e=J.useRef(),{login:n}=nr(),[s,o]=J.useState(""),[u,f]=J.useState(!1),p=ou();async function m(_){_.preventDefault();try{o(""),f(!0),await n(r.current.value,e.current.value),p("/")}catch{o("Failed to log in. Check your email and password.")}finally{f(!1)}}return j.jsxs("div",{children:[j.jsx("h2",{children:"Log In"}),s&&j.jsx("p",{style:{color:"red"},children:s}),j.jsxs("form",{onSubmit:m,children:[j.jsxs("div",{children:[j.jsx("label",{children:"Email"}),j.jsx("input",{type:"email",ref:r,required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Password"}),j.jsx("input",{type:"password",ref:e,required:!0})]}),j.jsx("button",{type:"submit",disabled:u,children:"Log In"})]}),j.jsx("div",{style:{marginTop:"1em"},children:j.jsx(ao,{to:"/forgot-password",children:"Forgot Password?"})}),j.jsxs("div",{style:{marginTop:"1em"},children:["Need an account? ",j.jsx(ao,{to:"/signup",children:"Sign Up"})]})]})}function VM(){const r=J.useRef(),e=J.useRef(),n=J.useRef(),{signup:s}=nr(),[o,u]=J.useState(""),[f,p]=J.useState(!1),m=ou();async function _(E){if(E.preventDefault(),e.current.value!==n.current.value){u("Passwords do not match");return}try{u(""),p(!0),await s(r.current.value,e.current.value),m("/")}catch{u("Failed to create an account")}finally{p(!1)}}return j.jsxs("div",{children:[j.jsx("h2",{children:"Sign Up"}),o&&j.jsx("p",{style:{color:"red"},children:o}),j.jsxs("form",{onSubmit:_,children:[j.jsxs("div",{children:[j.jsx("label",{children:"Email"}),j.jsx("input",{type:"email",ref:r,required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Password"}),j.jsx("input",{type:"password",ref:e,required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Confirm Password"}),j.jsx("input",{type:"password",ref:n,required:!0})]}),j.jsx("button",{type:"submit",disabled:f,children:"Sign Up"})]}),j.jsxs("p",{children:["Already have an account? ",j.jsx(ao,{to:"/login",children:"Log In"})]})]})}function Sp({children:r}){const{currentUser:e}=nr();return e?r:j.jsx(Ww,{to:"/login"})}function UM(r,e,n,s){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(E){try{_(s.next(E))}catch(T){f(T)}}function m(E){try{_(s.throw(E))}catch(T){f(T)}}function _(E){E.done?u(E.value):o(E.value).then(p,m)}_((s=s.apply(r,[])).next())})}function kM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var LM=function r(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,o,u;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!r(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(u=Object.keys(e),s=u.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=s;o--!==0;){var f=u[o];if(!r(e[f],n[f]))return!1}return!0}return e!==e&&n!==n},jM=kM(LM);const gT="__googleMapsScriptId";var to;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(to||(to={}));class Fs{constructor({apiKey:e,authReferrerPolicy:n,channel:s,client:o,id:u=gT,language:f,libraries:p=[],mapIds:m,nonce:_,region:E,retries:T=3,url:b="https://maps.googleapis.com/maps/api/js",version:N}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=s,this.client=o,this.id=u||gT,this.language=f,this.libraries=p,this.mapIds=m,this.nonce=_,this.region=E,this.retries=T,this.url=b,this.version=N,Fs.instance){if(!jM(this.options,Fs.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Fs.instance.options)}`);return Fs.instance}Fs.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?to.FAILURE:this.done?to.SUCCESS:this.loading?to.LOADING:to.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(u=>!s[u]&&delete s[u]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(u=>{let f,p,m,_="The Google Maps JavaScript API",E="google",T="importLibrary",b="__ib__",N=document,H=window;H=H[E]||(H[E]={});const Y=H.maps||(H.maps={}),B=new Set,te=new URLSearchParams,ae=()=>f||(f=new Promise((ne,he)=>UM(this,void 0,void 0,function*(){var fe;yield p=N.createElement("script"),p.id=this.id,te.set("libraries",[...B]+"");for(m in u)te.set(m.replace(/[A-Z]/g,we=>"_"+we[0].toLowerCase()),u[m]);te.set("callback",E+".maps."+b),p.src=this.url+"?"+te,Y[b]=ne,p.onerror=()=>f=he(Error(_+" could not load.")),p.nonce=this.nonce||((fe=N.querySelector("script[nonce]"))===null||fe===void 0?void 0:fe.nonce)||"",N.head.append(p)})));Y[T]?console.warn(_+" only loads once. Ignoring:",u):Y[T]=(ne,...he)=>B.add(ne)&&ae().then(()=>Y[T](ne,...he))})(s);const o=this.libraries.map(u=>this.importLibrary(u));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),u=>{const f=new ErrorEvent("error",{error:u});this.loadErrorCallback(f)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}function bS(){const r=J.useRef(null);return J.useEffect(()=>{new Fs({apiKey:"AIzaSyD7E49JmOau7HEvMOOxpDAcrKPlPVCVlfc",version:"weekly",libraries:["places"]}).load().then(async n=>{const s={center:{lat:.3476,lng:32.5825},zoom:12},o=new n.maps.Map(r.current,s);navigator.geolocation?(console.log("Geolocation is supported. Trying to get position..."),navigator.geolocation.getCurrentPosition(u=>{const f={lat:u.coords.latitude,lng:u.coords.longitude};console.log("User location found:",f),o.setCenter(f),o.setZoom(15),new n.maps.Marker({position:f,map:o,title:"Your Location"});const p=document.getElementById("address-input");if(p){const m=new n.maps.places.Autocomplete(p,{fields:["geometry","name"],bounds:o.getBounds(),strictBounds:!1,location:f,radius:5e4});m.addListener("place_changed",()=>{const _=m.getPlace();_.geometry&&_.geometry.location?(o.setCenter(_.geometry.location),o.setZoom(15),new n.maps.Marker({position:_.geometry.location,map:o,title:_.name}),console.log("Place selected:",_.name,_.geometry.location.toString())):console.log("Autocomplete returned place with no geometry")})}else console.log("Address input 'address-input' not found on this page.")},u=>{console.error("Error getting user location:",u.code,u.message),alert("Could not get your location. Please ensure location services are enabled and permission is granted. Map will remain centered on Kampala.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):(console.error("Geolocation is not supported by this browser."),alert("Geolocation is not supported by this browser. Map will remain centered on Kampala."))}).catch(n=>{console.error("Error loading Google Maps API:",n)})},[]),j.jsx("div",{ref:r,style:{height:"400px",width:"100%"}})}function BM(){const[r,e]=J.useState(""),[n,s]=J.useState(""),[o,u]=J.useState(!1),[f,p]=J.useState(""),{currentUser:m}=nr();async function _(E){if(E.preventDefault(),!m){p("You must be logged in to request a ride.");return}if(!r||!n){p("Please enter both origin and destination.");return}p(""),u(!0);const T={riderId:m.uid,riderEmail:m.email,originAddress:r,destinationAddress:n,status:"requested",rideType:"Standard",createdAt:tm()};try{const b=su(En,"rides"),N=await rS(b,T);console.log("Ride request saved successfully with ID: ",N.id),alert("Ride requested successfully!"),e(""),s("")}catch(b){console.error("Error saving ride request: ",b),p("Failed to request ride. Please check console and try again.")}finally{u(!1)}}return j.jsxs("div",{children:[j.jsx("h2",{children:"Request a Ride"}),f&&j.jsx("p",{style:{color:"red"},children:f}),j.jsxs("form",{onSubmit:_,children:[j.jsxs("div",{children:[j.jsx("label",{children:"Origin:"}),j.jsx("input",{type:"text",value:r,onChange:E=>e(E.target.value),required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Destination:"}),j.jsx("input",{type:"text",value:n,onChange:E=>s(E.target.value),required:!0})]}),j.jsx("p",{children:"Ride Type: Standard (only)"}),j.jsx("p",{children:"Estimated Fare: TBD"}),j.jsx("button",{type:"submit",disabled:o,children:o?"Requesting...":"Request Ride"})]})]})}function zM(){const{currentUser:r}=nr(),[e,n]=J.useState([]),[s,o]=J.useState(!0);J.useEffect(()=>{if(!r){n([]),o(!1);return}o(!0);const f=su(En,"notifications"),p=Zm(f,Ih("userId","==",r.uid),Ih("isRead","==",!1),tg("timestamp","desc")),m=ng(p,_=>{const E=_.docs.map(T=>({id:T.id,...T.data()}));n(E),o(!1),console.log("Fetched notifications:",E)},_=>{console.error("Error fetching notifications:",_),o(!1)});return()=>m()},[r]);async function u(f){const p=Yi(En,"notifications",f);try{await iS(p,{isRead:!0})}catch(m){console.error("Failed to mark notification as read:",m)}}return j.jsxs("div",{style:{marginTop:"20px",padding:"15px",border:"1px solid blue"},children:[j.jsx("h4",{children:"Notifications"}),s?j.jsx("p",{children:"Loading notifications..."}):e.length===0?j.jsx("p",{children:"No new notifications."}):j.jsx("ul",{style:{listStyle:"none",padding:0},children:e.map(f=>{var p;return j.jsxs("li",{style:{marginBottom:"10px",paddingBottom:"5px",borderBottom:"1px dashed #ccc"},children:[f.message,j.jsx("br",{}),j.jsxs("small",{children:["Received: ",(p=f.timestamp)!=null&&p.seconds?new Date(f.timestamp.seconds*1e3).toLocaleTimeString():"Unknown"]}),j.jsx("button",{onClick:()=>u(f.id),style:{marginLeft:"10px",fontSize:"0.8em"},children:"Mark as Read"})]},f.id)})})]})}function qM(){const{currentUser:r,logout:e}=nr(),n=ou(),[s,o]=J.useState([]),[u,f]=J.useState(!0);async function p(_){if(!window.confirm("Are you sure you want to cancel this ride request?"))return;console.log("Attempting to cancel ride:",_);const E=Yi(En,"rides",_);try{await g2(E),console.log("Ride cancelled successfully:",_),alert("Ride request cancelled.")}catch(T){console.error("Error cancelling ride:",T),alert("Failed to cancel ride. Please try again.")}}J.useEffect(()=>{if(!r){o([]),f(!1);return}f(!0);const _=su(En,"rides"),E=Zm(_,Ih("riderId","==",r.uid),tg("createdAt","desc")),T=ng(E,b=>{const N=[];b.forEach(H=>{N.push({id:H.id,...H.data()})}),o(N),f(!1),console.log("Current rides fetched: ",N)},b=>{console.error("Error fetching rides: ",b),f(!1)});return()=>T()},[r]);async function m(){try{await e(),n("/login")}catch{console.error("Failed to log out")}}return j.jsxs("div",{children:[j.jsx("h2",{children:"Dashboard"}),j.jsxs("p",{children:["Welcome, ",r&&r.email]}),j.jsx("p",{children:j.jsx(ao,{to:"/profile",children:"Edit Profile"})}),j.jsx(zM,{}),j.jsx("div",{style:{marginBottom:"10px"},children:j.jsx("input",{type:"text",id:"address-input",placeholder:"Search for a place or address...",style:{width:"80%",padding:"8px"}})}),j.jsx("div",{style:{marginTop:"20px"},children:j.jsx(bS,{})}),j.jsx("div",{style:{marginTop:"20px"},children:j.jsx(BM,{})}),j.jsxs("div",{style:{marginTop:"30px",borderTop:"1px solid #ccc",paddingTop:"20px"},children:[j.jsx("h3",{children:"My Ride Requests"}),u?j.jsx("p",{children:"Loading your ride requests..."}):s.length===0?j.jsx("p",{children:"You have no active or past ride requests."}):j.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map(_=>{var E;return j.jsxs("li",{style:{borderBottom:"1px solid #eee",padding:"10px 0",marginBottom:"10px"},children:[j.jsx("strong",{children:"Origin:"})," ",_.originAddress||"N/A"," ",j.jsx("br",{}),j.jsx("strong",{children:"Destination:"})," ",_.destinationAddress||"N/A"," ",j.jsx("br",{}),j.jsx("strong",{children:"Status:"})," ",_.status||"N/A"," ",j.jsx("br",{}),((E=_.createdAt)==null?void 0:E.seconds)&&j.jsxs("small",{children:["Requested: ",new Date(_.createdAt.seconds*1e3).toLocaleString()]}),_.status==="requested"&&j.jsx("button",{onClick:()=>p(_.id),disabled:!navigator.onLine,children:"Cancel"})]},_.id)})})]}),j.jsx("button",{onClick:m,children:"Log Out"})]})}function HM(){const r=J.useRef(),{resetPassword:e}=nr(),[n,s]=J.useState(""),[o,u]=J.useState(""),[f,p]=J.useState(!1);async function m(_){_.preventDefault();try{u(""),s(""),p(!0),await e(r.current.value),u("Check your inbox for further instructions")}catch{s("Failed to reset password")}finally{p(!1)}}return j.jsxs("div",{children:[j.jsx("h2",{children:"Password Reset"}),n&&j.jsx("p",{style:{color:"red"},children:n}),o&&j.jsx("p",{style:{color:"green"},children:o}),j.jsxs("form",{onSubmit:m,children:[j.jsx("label",{children:"Email"}),j.jsx("input",{type:"email",ref:r,required:!0}),j.jsx("button",{disabled:f,type:"submit",children:"Reset Password"})]}),j.jsx("div",{style:{marginTop:"1em"},children:j.jsx(ao,{to:"/login",children:"Log In"})}),j.jsxs("div",{style:{marginTop:"1em"},children:["Need an account? ",j.jsx(ao,{to:"/signup",children:"Sign Up"})]})]})}function FM(){const{currentUser:r}=nr(),[e,n]=J.useState(""),[s,o]=J.useState("rider"),[u,f]=J.useState(""),[p,m]=J.useState(null),[_,E]=J.useState(!0),[T,b]=J.useState(""),[N,H]=J.useState("");J.useEffect(()=>{async function B(){if(r)try{const te=Yi(En,"users",r.uid),ae=await tS(te);if(ae.exists()){const ne=ae.data();n(ne.fullName||""),o(ne.role||"rider"),f(ne.photoURL||"")}}catch(te){console.error(te),b("Failed to load profile")}finally{E(!1)}}B()},[r]);async function Y(B){B.preventDefault(),b(""),H("");try{let te=u;if(p){const ne=RM(MM,`avatars/${r.uid}`);await bM(ne,p),te=await wM(ne)}const ae=Yi(En,"users",r.uid);await em(ae,{fullName:e,role:s,photoURL:te},{merge:!0}),f(te),H("Profile saved")}catch(te){console.error(te),b("Failed to save profile")}}return _?j.jsx("p",{children:"Loading..."}):j.jsxs("div",{children:[j.jsx("h2",{children:"Profile"}),T&&j.jsx("p",{style:{color:"red"},children:T}),N&&j.jsx("p",{style:{color:"green"},children:N}),j.jsxs("form",{onSubmit:Y,children:[j.jsxs("div",{children:[j.jsx("label",{children:"Full Name"}),j.jsx("input",{type:"text",value:e,onChange:B=>n(B.target.value),required:!0})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Role"}),j.jsxs("select",{value:s,onChange:B=>o(B.target.value),children:[j.jsx("option",{value:"rider",children:"Rider"}),j.jsx("option",{value:"driver",children:"Driver"})]})]}),j.jsxs("div",{children:[j.jsx("label",{children:"Profile Photo (optional)"}),j.jsx("input",{type:"file",accept:"image/*",onChange:B=>m(B.target.files[0])})]}),j.jsx("button",{type:"submit",children:"Save Profile"})]}),u&&j.jsxs("div",{children:[j.jsx("p",{children:"Current Photo:"}),j.jsx("img",{src:u,alt:"Profile",width:100})]})]})}function GM(){const[r,e]=J.useState([]),[n,s]=J.useState(!0),{currentUser:o}=nr(),[u,f]=J.useState(!1),[p,m]=J.useState(!0);J.useEffect(()=>{if(!o){m(!1);return}m(!0);const T=Yi(En,"users",o.uid);tS(T).then(b=>{b.exists()&&typeof b.data().isOnline=="boolean"?f(b.data().isOnline):f(!1),m(!1)}).catch(b=>{console.error("Error fetching initial driver status:",b),f(!1),m(!1)})},[o]);async function _(){if(!o)return;const T=!u,b=Yi(En,"users",o.uid);m(!0);try{await em(b,{isOnline:T},{merge:!0}),f(T),console.log("Driver status updated to:",T?"Online":"Offline"),alert(`You are now ${T?"Online":"Offline"}`)}catch(N){console.error("Error updating driver status:",N),alert("Failed to update status.")}finally{m(!1)}}J.useEffect(()=>{let T=null;const b=()=>{if(!navigator.geolocation){console.error("Geolocation not supported for location updates.");return}if(!o){console.error("No user for location update.");return}navigator.geolocation.getCurrentPosition(N=>{const{latitude:H,longitude:Y}=N.coords,B=Yi(En,"driverLocations",o.uid),te={latitude:H,longitude:Y,timestamp:tm()};em(B,te,{merge:!0}).then(()=>{console.log(`Driver location updated: ${H}, ${Y}`)}).catch(ae=>{console.error("Error writing driver location:",ae)})},N=>{console.error("Error getting driver location for update:",N.message)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return u&&o?(console.log("Driver went online. Starting location updates."),b(),T=setInterval(b,15e3)):(console.log("Driver is offline or not logged in. Stopping location updates."),T&&clearInterval(T)),()=>{T&&(clearInterval(T),console.log("Cleaned up location update interval."))}},[u,o]);async function E(T,b){if(!o){console.error("No driver logged in."),alert("Error: You must be logged in.");return}console.log(`Driver ${o.uid} attempting to accept ride: ${T}`);const N=Yi(En,"rides",T);try{if(await iS(N,{status:"accepted",driverId:o.uid}),console.log("Ride accepted successfully:",T),b){const H=su(En,"notifications"),Y={userId:b,message:`Your ride (ID starting ${T.substring(0,5)}...) has been accepted!`,timestamp:tm(),isRead:!1,type:"ride_accepted",relatedRideId:T};try{await rS(H,Y),console.log("Notification created for rider:",b)}catch(B){console.error("Error creating notification:",B)}}else console.error("Cannot create notification, riderId is missing.");alert("Ride accepted!")}catch(H){console.error("Error accepting ride:",H),alert("Failed to accept ride. Please try again.")}}return J.useEffect(()=>{s(!0);const T=su(En,"rides"),b=Zm(T,Ih("status","==","requested"),tg("createdAt","asc")),N=ng(b,H=>{const Y=[];H.forEach(B=>{Y.push({id:B.id,...B.data()})}),e(Y),s(!1),console.log("Available rides fetched: ",Y)},H=>{console.error("Error fetching available rides: ",H),s(!1)});return()=>N()},[]),j.jsxs("div",{children:[j.jsx("h1",{children:"Driver Dashboard"}),j.jsxs("div",{style:{padding:"10px",border:"1px solid #eee",marginBottom:"20px",background:u?"#e8f5e9":"#ffebee"},children:[j.jsxs("p",{children:["Your Status: ",j.jsx("strong",{children:p?"Loading...":u?"Online (Available for rides)":"Offline"})]}),j.jsx("button",{onClick:_,disabled:p,children:p?"Updating...":u?"Go Offline":"Go Online"})]}),j.jsx("div",{style:{marginTop:"20px",marginBottom:"20px"},children:j.jsx(bS,{})}),j.jsxs("div",{style:{marginTop:"30px"},children:[j.jsx("h3",{children:"Available Ride Requests"}),n?j.jsx("p",{children:"Loading available rides..."}):r.length===0?j.jsx("p",{children:"No ride requests currently available."}):j.jsx("ul",{style:{listStyle:"none",padding:0},children:r.map(T=>{var b;return j.jsxs("li",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px"},children:[j.jsx("strong",{children:"From:"})," ",T.originAddress||"N/A"," ",j.jsx("br",{}),j.jsx("strong",{children:"To:"})," ",T.destinationAddress||"N/A"," ",j.jsx("br",{}),j.jsx("strong",{children:"Rider:"})," ",T.riderEmail||T.riderId," ",j.jsx("br",{}),((b=T.createdAt)==null?void 0:b.seconds)&&j.jsxs("small",{children:["Requested: ",new Date(T.createdAt.seconds*1e3).toLocaleString()]}),j.jsxs("div",{style:{marginTop:"10px"},children:[j.jsx("button",{onClick:()=>E(T.id,T.riderId),disabled:!u,children:"Accept"}),j.jsx("button",{disabled:!0,style:{marginLeft:"10px"},children:"Reject"})]})]},T.id)})})]})]})}function KM(){return j.jsx("div",{className:"container",children:j.jsx(aR,{children:j.jsxs(Jw,{children:[j.jsx(qs,{path:"/login",element:j.jsx(PM,{})}),j.jsx(qs,{path:"/forgot-password",element:j.jsx(HM,{})}),j.jsx(qs,{path:"/profile",element:j.jsx(Sp,{children:j.jsx(FM,{})})}),j.jsx(qs,{path:"/signup",element:j.jsx(VM,{})}),j.jsx(qs,{path:"/",element:j.jsx(Sp,{children:j.jsx(qM,{})})}),j.jsx(qs,{path:"/driver",element:j.jsx(Sp,{children:j.jsx(GM,{})})})]})})})}ow.createRoot(document.getElementById("root")).render(j.jsx(J.StrictMode,{children:j.jsx(xM,{children:j.jsx(KM,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>console.log("Service worker registered.",r)).catch(r=>console.error("Service worker registration failed:",r))});
